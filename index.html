<!doctype html>
<html lang="id" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pembelajaran Informatika - MAN 2 Garut</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="/_sdk/data_sdk.js"></script>
  <style>
    body {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    
    html, body {
      height: 100%;
      width: 100%;
    }

    .page {
      display: none;
      min-height: 100%;
      width: 100%;
      overflow-y: auto;
    }
    
    .page.active {
      display: block;
    }

    .materi-card {
      background: white;
      border-radius: 16px;
      padding: 24px;
      margin-bottom: 24px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
      border-left: 4px solid #3b82f6;
    }

    .info-box {
      background: #eff6ff;
      border-left: 4px solid #3b82f6;
      padding: 16px 20px;
      border-radius: 8px;
      margin: 20px 0;
    }

    .success-box {
      background: #d1fae5;
      border-left: 4px solid #10b981;
      padding: 16px 20px;
      border-radius: 8px;
      margin: 20px 0;
    }

    .warning-box {
      background: #fef3c7;
      border-left: 4px solid #f59e0b;
      padding: 16px 20px;
      border-radius: 8px;
      margin: 20px 0;
    }

    .quiz-option {
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .quiz-option:hover {
      transform: translateX(8px);
      background: #eff6ff !important;
    }

    .quiz-option.selected {
      background: #dbeafe !important;
      border-color: #3b82f6 !important;
    }

    .quiz-option.correct {
      background: #d1fae5 !important;
      border-color: #10b981 !important;
    }

    .quiz-option.incorrect {
      background: #fee2e2 !important;
      border-color: #ef4444 !important;
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
 </head>
 <body class="h-full">
  <div id="app-container" class="h-full w-full"><!-- HALAMAN PEMILIHAN LOGIN -->
    
   <div id="login-select-page" class="page active w-full h-full" style="background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%);">
    <div style="min-height: 100%; display: flex; align-items: center; justify-content: center; padding: 20px;">
     <div style="background: white; border-radius: 20px; padding: 40px; max-width: 500px; width: 100%; box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);">
      <div style="text-align: center; margin-bottom: 32px;">
       <div style="width: 120px; height: 120px; margin: 0 auto 20px; display: flex; align-items: center; justify-content: center;">
     <img src="https://lh3.googleusercontent.com/d/1SbBNz5SErKEybxrWn2HQt1h6gFPzHHxc" alt="Logo MAN 2 Garut" style="width: 100%; height: 100%; object-fit: contain;" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
     <span style="font-size: 80px; display: none;">ğŸ«</span>
    </div>

       <h1 style="font-size: 28px; font-weight: bold; color: #1e293b; margin-bottom: 8px;">WEB Pembelajaran Informatika</h1>
       <p style="font-size: 16px; color: #64748b;">MAN 2 Garut</p>
      </div>
      <div style="text-align: center; margin-bottom: 24px;">
       <p style="font-size: 18px; font-weight: 600; color: #1e293b;">Pilih Jenis Login</p>
      </div>
      <div style="display: grid; gap: 16px;"><button onclick="showLoginPage('student')" style="width: 100%; background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%); color: white; border: none; padding: 20px; border-radius: 12px; font-size: 18px; font-weight: 600; cursor: pointer; box-shadow: 0 4px 12px rgba(30, 58, 138, 0.4); display: flex; align-items: center; justify-content: center; gap: 12px;"> <span style="font-size: 32px;">ğŸ“</span> <span>Login Siswa</span> </button> <button onclick="showLoginPage('admin')" style="width: 100%; background: linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%); color: white; border: none; padding: 20px; border-radius: 12px; font-size: 18px; font-weight: 600; cursor: pointer; box-shadow: 0 4px 12px rgba(124, 58, 237, 0.4); display: flex; align-items: center; justify-content: center; gap: 12px;"> <span style="font-size: 32px;">ğŸ‘¨â€ğŸ’¼</span> <span>Login Admin</span> </button>
       </div>
     </div>
    </div>

        <!-- ================= PANDUAN PENGGUNAAN WEB (VISUAL) ================= -->

<!-- Tombol Panduan -->
<div style="text-align:center; margin-top:8px; margin-bottom:60px;">
  <button onclick="openPanduan()"
    style="
      background:linear-gradient(135deg,#4f6caf,#0c145c);
      color:white;
      padding:18px 32px;     
      min-width:420px;       
      border-radius:12px;
      border:none;
      font-size:18px;
      font-weight:600;
      cursor:pointer;
      text-align:center;
      box-shadow:0 4px 20px rgba(37,99,235,.35);
    ">
    ğŸ“˜ Panduan Penggunaan
  </button>
</div>

<!-- Overlay -->
<div id="panduanModal"
  style="display:none; position:fixed; inset:0;
  background:rgba(15,23,42,.65); z-index:9999;
  align-items:center; justify-content:center;">

  <!-- Card -->
  <div style="background:white; width:92%; max-width:900px;
  border-radius:22px; padding:30px;
  max-height:88vh; overflow-y:auto;">

    <h2 style="font-size:26px; font-weight:800; color:#1e293b; margin-bottom:10px;">
      ğŸ§­ Alur Penggunaan Web Pembelajaran Informatika
    </h2>

    <p style="color:#475569; margin-bottom:22px;">
      Web ini dirancang dengan <b>sistem pembelajaran berurutan</b>.
      Siswa <b>tidak dapat melompati materi</b>. Semua aktivitas
      tercatat dan dipantau oleh guru.
    </p>

    <!-- STEP 1 -->
    <div style="display:flex; gap:16px; margin-bottom:20px;">
      <div style="font-size:34px;">ğŸ”</div>
      <div>
        <h3 style="font-weight:700; font-size:18px;">Login Pengguna</h3>
        <p style="color:#475569;">
          Pengguna dapat masuk sebagai <b>Siswa</b> atau <b>Guru</b>.
          Setelah memilih login, pengguna mengisi <b>nama</b> dan
          <b>memilih kelas</b>.
        </p>
      </div>
    </div>

    <!-- STEP 2 -->
    <div style="display:flex; gap:16px; margin-bottom:20px;">
      <div style="font-size:34px;">ğŸ“š</div>
      <div>
        <h3 style="font-weight:700; font-size:18px;">Materi Aktif</h3>
        <p style="color:#475569;">
          Saat ini materi yang terbuka adalah <b>Semester 2 â€“ Pertemuan 8</b>.
          Materi Semester 1 sudah ditutup dan tidak dapat diakses kembali.
        </p>
      </div>
    </div>

    <!-- STEP 3 -->
    <div style="display:flex; gap:16px; margin-bottom:20px;">
      <div style="font-size:34px;">â¡ï¸</div>
      <div>
        <h3 style="font-weight:700; font-size:18px;">Alur Belajar Wajib</h3>
        <p style="color:#475569;">
          Siswa harus mengikuti pembelajaran secara <b>berurutan</b>:
        </p>

        <div style="display:grid; grid-template-columns:repeat(auto-fit,minmax(160px,1fr));
        gap:12px; margin-top:10px;">
          <div style="background:#eff6ff; padding:10px; border-radius:10px;">ğŸ“˜ Materi</div>
          <div style="background:#eff6ff; padding:10px; border-radius:10px;">ğŸ¥ Video</div>
          <div style="background:#eff6ff; padding:10px; border-radius:10px;">ğŸ“ Kuis</div>
        </div>

        <p style="margin-top:10px; color:#475569;">
          Jika satu tahap belum selesai, maka tahap berikutnya
          <b>tidak akan terbuka</b>.
        </p>
      </div>
    </div>

    <!-- STEP 4 -->
    <div style="display:flex; gap:16px; margin-bottom:20px;">
      <div style="font-size:34px;">â›”</div>
      <div>
        <h3 style="font-weight:700; font-size:18px;">Aturan Ketat Sistem</h3>
        <ul style="color:#475569; padding-left:18px; line-height:1.8;">
          <li>Materi tidak bisa dibuka secara acak</li>
          <li>Video harus ditonton sampai selesai</li>
          <li>Nilai kuis harus memenuhi batas minimal</li>
        </ul>
      </div>
    </div>

    <!-- STEP 5 -->
    <div style="display:flex; gap:16px; margin-bottom:20px;">
      <div style="font-size:34px;">ğŸ§ª</div>
      <div>
        <h3 style="font-weight:700; font-size:18px;">Evaluasi Akhir</h3>
        <p style="color:#475569;">
          Setelah seluruh materi selesai, siswa mengerjakan
          <b>kuis keseluruhan</b>.
          Jika nilai belum mencapai ketentuan,
          siswa harus <b>mengulang pembelajaran</b>.
        </p>
      </div>
    </div>

    <!-- STEP 6 -->
    <div style="display:flex; gap:16px;">
      <div style="font-size:34px;">ğŸ“Š</div>
      <div>
        <h3 style="font-weight:700; font-size:18px;">Monitoring Guru</h3>
        <p style="color:#475569;">
          Semua aktivitas siswa (materi, video, kuis, nilai)
          <b>terekam otomatis</b> dan dapat dilihat melalui
          <b>dashboard guru</b>.
        </p>
      </div>
    </div>

   <div style="text-align:right; margin-top:28px;">
      <button onclick="closePanduan()"
        style="background:#2563eb; color:white;
        padding:12px 26px; border-radius:12px;
        font-weight:700;">
        Tutup Panduan
      </button>
    </div>

<script>
  function openPanduan() {
    document.getElementById("panduanModal").style.display = "flex";
  }
  function closePanduan() {
    document.getElementById("panduanModal").style.display = "none";
  }
</script>
        
<!-- ================================================================= -->
 <div style="background: white; border-radius: 16px; padding: 32px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);">
   <h3 style="font-size: 24px; font-weight: bold; color: #1e293b; margin-bottom: 20px;">ğŸ“ Lokasi Sekolah</h3>
   <div style="border-radius: 12px; overflow: hidden; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);">
    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3960.5832341234567!2d107.89876543210987!3d-7.234567890123456!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2e68c6c6c6c6c6c6%3A0x1234567890abcdef!2sMAN%202%20Garut!5e0!3m2!1sid!2sid!4v1234567890123!5m2!1sid!2sid" width="100%" height="400" style="border:0;" allowfullscreen loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
   </div>
   <p style="font-size: 14px; color: #64748b; margin-top: 16px; text-align: center;">MAN 2 Garut - Jl. Raya Limbangan, Garut, Jawa Barat</p>
   <div style="text-align: center; margin-top: 12px;">
    <a href="https://maps.app.goo.gl/gKMPRXzX6CLTs3Hv7" target="_blank" rel="noopener noreferrer" style="display: inline-block; background: #1e3a8a; color: white; text-decoration: none; padding: 10px 24px; border-radius: 8px; font-size: 14px; font-weight: 600;"> Buka di Google Maps</a>
   </div>
    </div>



   </div><!-- HALAMAN LOGIN SISWA -->
   <div id="student-login-page" class="page w-full h-full" style="background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%);">
    <div style="min-height: 100%; display: flex; align-items: center; justify-content: center; padding: 20px;">
     <div style="background: white; border-radius: 20px; padding: 40px; max-width: 500px; width: 100%; box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);"><button onclick="showPage('login-select-page')" style="background: #e2e8f0; color: #475569; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer; font-size: 14px; margin-bottom: 20px;">â† Kembali</button>
      <div style="text-align: center; margin-bottom: 32px;">
       <div style="width: 120px; height: 120px; margin: 0 auto 20px; display: flex; align-items: center; justify-content: center;">
     <img src="https://lh3.googleusercontent.com/d/1SbBNz5SErKEybxrWn2HQt1h6gFPzHHxc" alt="Logo MAN 2 Garut" style="width: 100%; height: 100%; object-fit: contain;" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
     <span style="font-size: 80px; display: none;">ğŸ«</span>
    </div>

       <h1 style="font-size: 28px; font-weight: bold; color: #1e293b; margin-bottom: 8px;">Login Siswa</h1>
       <p style="font-size: 16px; color: #64748b;">Masukkan nama Anda</p>
      </div>
      <form id="student-login-form">
       <div style="margin-bottom: 20px;"><label style="display: block; font-weight: 600; color: #334155; margin-bottom: 8px; font-size: 14px;">Nama Lengkap</label> <input type="text" id="student-name" placeholder="Masukkan nama Anda" required style="width: 100%; padding: 12px 16px; border: 2px solid #e2e8f0; border-radius: 8px; font-size: 14px;">
       </div>

       <div style="margin-bottom: 20px;">
      <label style="display: block; font-weight: 600; color: #334155; margin-bottom: 8px; font-size: 14px;">
    Password
     </label>
    <input type="password"
         id="student-password"
         placeholder="Masukkan Password"
         required
         style="width: 100%; padding: 12px 16px;
                border: 2px solid #e2e8f0;
                border-radius: 8px;
                font-size: 14px;">
                <div style="margin-top:8px; text-align:right;">
  <input type="checkbox" id="show-password" onclick="togglePassword()">
  <label for="show-password" style="font-size:13px; color:#475569; cursor:pointer;">
    Tampilkan Password
  </label>
</div>
<script>
function togglePassword() {
  const pwd = document.getElementById('student-password');
  if (!pwd) return;

  pwd.type = pwd.type === 'password' ? 'text' : 'password';
}
</script>

</div>

       
       <div style="margin-bottom: 20px;"><label style="display: block; font-weight: 600; color: #334155; margin-bottom: 8px; font-size: 14px;">Pilih Kelas</label> <select id="student-class" required style="width: 100%; padding: 12px 16px; border: 2px solid #e2e8f0; border-radius: 8px; font-size: 14px;"> <option value="">-- Pilih Kelas --</option> <option value="X">Kelas X</option> <option value="XI">Kelas XI</option> <option value="XII">Kelas XII</option> </select>
       </div><button type="submit" style="width: 100%; background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%); color: white; border: none; padding: 14px; border-radius: 8px; font-size: 16px; font-weight: 600; cursor: pointer; box-shadow: 0 4px 12px rgba(30, 58, 138, 0.4);"> Masuk ke Platform ğŸš€ </button>
      </form>
     </div>
    </div>
    
   </div><!-- HALAMAN LOGIN ADMIN -->
   <div id="admin-login-page" class="page w-full h-full" style="background: linear-gradient(135deg,  #1e3a8a 0%, #3b82f6 100%);">
    <div style="min-height: 100%; display: flex; align-items: center; justify-content: center; padding: 20px;">
     <div style="background: #1f2937; border-radius: 20px; padding: 40px; max-width: 500px; width: 100%; box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5); border: 2px solid #374151;"><button onclick="showPage('login-select-page')" style="background: #374151; color: #9ca3af; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer; font-size: 14px; margin-bottom: 20px; transition: all 0.3s;" onmouseover="this.style.background='#4b5563'" onmouseout="this.style.background='#374151'">â† Kembali</button>
      <div style="text-align: center; margin-bottom: 32px;">
       <div style="background: linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%); width: 100px; height: 100px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 20px; box-shadow: 0 8px 24px rgba(124, 58, 237, 0.5); border: 4px solid #374151;"><span style="font-size: 48px;">ğŸ”</span>
       </div>
       <h1 style="font-size: 32px; font-weight: bold; color: #f9fafb; margin-bottom: 8px; text-shadow: 0 2px 4px rgba(0,0,0,0.3);">Admin Portal</h1>
       <p style="font-size: 16px; color: #9ca3af;">Authorized Personnel Only</p>
       <div style="width: 60px; height: 3px; background: linear-gradient(90deg, transparent, #7c3aed, transparent); margin: 12px auto 0;"></div>
      </div>
      <form id="admin-login-form">
       <div style="margin-bottom: 20px;"><label style="display: block; font-weight: 600; color: #e5e7eb; margin-bottom: 8px; font-size: 14px; display: flex; align-items: center; gap: 8px;"> <span style="font-size: 18px;">ğŸ‘¤</span> Username </label> <input type="text" id="admin-username" placeholder="Enter admin username" required style="width: 100%; padding: 14px 16px; border: 2px solid #374151; border-radius: 8px; font-size: 14px; background: #111827; color: #f9fafb; transition: all 0.3s;" onfocus="this.style.borderColor='#7c3aed'; this.style.boxShadow='0 0 0 3px rgba(124, 58, 237, 0.1)'" onblur="this.style.borderColor='#374151'; this.style.boxShadow='none'">
       </div>
       <div style="margin-bottom: 24px;"><label style="display: block; font-weight: 600; color: #e5e7eb; margin-bottom: 8px; font-size: 14px; display: flex; align-items: center; gap: 8px;"> <span style="font-size: 18px;">ğŸ”‘</span> Password </label> <input type="password" id="admin-password" placeholder="Enter admin password" required style="width: 100%; padding: 14px 16px; border: 2px solid #374151; border-radius: 8px; font-size: 14px; background: #111827; color: #f9fafb; transition: all 0.3s;" onfocus="this.style.borderColor='#7c3aed'; this.style.boxShadow='0 0 0 3px rgba(124, 58, 237, 0.1)'" onblur="this.style.borderColor='#374151'; this.style.boxShadow='none'">
       </div><button type="submit" style="width: 100%; background: linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%); color: white; border: none; padding: 16px; border-radius: 8px; font-size: 16px; font-weight: 700; cursor: pointer; box-shadow: 0 4px 16px rgba(124, 58, 237, 0.4); transition: all 0.3s; text-transform: uppercase; letter-spacing: 1px;" onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 20px rgba(124, 58, 237, 0.5)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 16px rgba(124, 58, 237, 0.4)'"> <span style="display: flex; align-items: center; justify-content: center; gap: 12px;"> <span>ğŸ”</span> <span>Access Admin Panel</span> </span> </button>
       <div style="margin-top: 24px; text-align: center; padding: 16px; background: #111827; border-radius: 8px; border: 1px solid #374151;">
        <p style="font-size: 12px; color: #6b7280; line-height: 1.6;"><span style="color: #ef4444;">âš ï¸</span> Sistem keamanan aktif<br><span style="font-size: 11px; color: #4b5563;">Akses tidak sah akan dilacak dan dilaporkan</span></p>
       </div>
      </form>
     </div>
    </div>
    
    
   </div><!-- HALAMAN DASHBOARD ADMIN -->
   <div id="admin-dashboard-page" class="page w-full" style="background: #f8fafc;">
    <header style="width: 100%; background: linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%); color: white; padding: 20px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
     <div style="max-width: 1400px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 16px;">
      <div>
       <h1 style="font-size: 28px; font-weight: bold;">ğŸ‘¨â€ğŸ’¼ Dashboard Admin</h1>
       <p style="font-size: 14px; opacity: 0.9; margin-top: 4px;">Monitoring Pembelajaran Informatika</p>
      </div>
      <div style="display: flex; gap: 12px; align-items: center;">
       <div style="background: rgba(255, 255, 255, 0.15); padding: 8px 16px; border-radius: 8px;"><span id="admin-logged-user" style="font-size: 14px; font-weight: 600;">Admin</span>
       </div><button onclick="showPage('login-select-page')" style="background: #ef4444; color: white; border: none; padding: 8px 16px; border-radius: 8px; font-size: 14px; font-weight: 600; cursor: pointer;">Logout</button>
      </div>
     </div>
    </header>
    <div style="max-width: 1400px; margin: 0 auto; padding: 40px 20px;"><!-- Stats Cards -->
     <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 40px;">
      <div style="background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%); border-radius: 16px; padding: 24px; color: white; box-shadow: 0 8px 20px rgba(59, 130, 246, 0.3);">
       <div style="font-size: 40px; margin-bottom: 12px;">
        ğŸ‘¥
       </div>
       <div style="font-size: 32px; font-weight: bold;" id="total-students">
        0
       </div>
       <div style="font-size: 14px; opacity: 0.9;">
        Total Siswa Login
       </div>
      </div>
      <div style="background: linear-gradient(135deg, #10b981 0%, #059669 100%); border-radius: 16px; padding: 24px; color: white; box-shadow: 0 8px 20px rgba(16, 185, 129, 0.3);">
       <div style="font-size: 40px; margin-bottom: 12px;">
        âœ…
       </div>
       <div style="font-size: 32px; font-weight: bold;" id="completed-students">
        0
       </div>
       <div style="font-size: 14px; opacity: 0.9;">
        Siswa Selesai
       </div>
      </div>
      <div style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); border-radius: 16px; padding: 24px; color: white; box-shadow: 0 8px 20px rgba(245, 158, 11, 0.3);">
       <div style="font-size: 40px; margin-bottom: 12px;">
        ğŸ“Š
       </div>
       <div style="font-size: 32px; font-weight: bold;" id="avg-score">
        0
       </div>
       <div style="font-size: 14px; opacity: 0.9;">
        Rata-rata Nilai
       </div>
      </div>
      <div style="background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%); border-radius: 16px; padding: 24px; color: white; box-shadow: 0 8px 20px rgba(139, 92, 246, 0.3);">
       <div style="font-size: 40px; margin-bottom: 12px;">
        âš¡
       </div>
       <div style="font-size: 32px; font-weight: bold;" id="active-now">
        0
       </div>
       <div style="font-size: 14px; opacity: 0.9;">
        Aktivitas Hari Ini
       </div>
      </div>
     </div><!-- Tab Navigation -->
     <div style="background: white; border-radius: 16px; padding: 20px; margin-bottom: 32px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);">
      <div style="display: flex; gap: 12px; flex-wrap: wrap;"><button onclick="showAdminTab('login-history')" id="tab-login-history" class="admin-tab active" style="background: #7c3aed; color: white; border: none; padding: 12px 24px; border-radius: 8px; font-size: 14px; font-weight: 600; cursor: pointer;">ğŸ“‹ Riwayat Login</button> <button onclick="showAdminTab('student-progress')" id="tab-student-progress" class="admin-tab" style="background: #e2e8f0; color: #475569; border: none; padding: 12px 24px; border-radius: 8px; font-size: 14px; font-weight: 600; cursor: pointer;">ğŸ“ˆ Progress Siswa</button> <button onclick="showAdminTab('scores')" id="tab-scores" class="admin-tab" style="background: #e2e8f0; color: #475569; border: none; padding: 12px 24px; border-radius: 8px; font-size: 14px; font-weight: 600; cursor: pointer;">ğŸ¯ Nilai Siswa</button> <button onclick="showAdminTab('activities')" id="tab-activities" class="admin-tab" style="background: #e2e8f0; color: #475569; border: none; padding: 12px 24px; border-radius: 8px; font-size: 14px; font-weight: 600; cursor: pointer;">ğŸ”” Aktivitas Real-time</button>
      </div>
     </div><!-- Tab Content: Login History -->
     <div id="content-login-history" class="admin-content" style="display: block;">
      <div style="background: white; border-radius: 16px; padding: 32px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);">
       <h2 style="font-size: 24px; font-weight: bold; color: #1e293b; margin-bottom: 24px;">ğŸ“‹ D Login Siswa</h2>
       <div id="login-history-list" style="overflow-x: auto;"></div>
      </div>
     </div><!-- Tab Content: Student Progress -->
     <div id="content-student-progress" class="admin-content" style="display: none;">
      <div style="background: white; border-radius: 16px; padding: 32px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);">
       <h2 style="font-size: 24px; font-weight: bold; color: #1e293b; margin-bottom: 24px;">ğŸ“ˆ Progress Pembelajaran Siswa</h2>
       <div id="student-progress-list"></div>
      </div>
     </div><!-- Tab Content: Scores -->
     <div id="content-scores" class="admin-content" style="display: none;">
      <div style="background: white; border-radius: 16px; padding: 32px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);">
       <h2 style="font-size: 24px; font-weight: bold; color: #1e293b; margin-bottom: 24px;">ğŸ¯ Nilai Quiz Siswa</h2>
       <div id="scores-list" style="overflow-x: auto;"></div>
      </div>
     </div><!-- Tab Content: Activities -->
     <div id="content-activities" class="admin-content" style="display: none;">
      <div style="background: white; border-radius: 16px; padding: 32px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);">
       <h2 style="font-size: 24px; font-weight: bold; color: #1e293b; margin-bottom: 24px;">ğŸ”” Aktivitas Siswa Real-time</h2>
       <div style="background: #eff6ff; padding: 16px; border-radius: 8px; margin-bottom: 24px; border-left: 4px solid #3b82f6;">
        <p style="font-size: 14px; color: #1e40af;">Data diperbarui otomatis setiap kali siswa melakukan aktivitas</p>
       </div>
       <div id="activities-list"></div>
      </div>
     </div>
    </div>
    
   </div><!-- HALAMAN BERANDA (untuk siswa, sama seperti sebelumnya) -->
   <div id="home-page" class="page w-full" style="background: #f8fafc;">
    <header style="width: 100%; background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%); color: white; padding: 20px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
     <div style="max-width: 1400px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 16px;">
      <div>
       <h1 style="font-size: 28px; font-weight: bold;">Pembelajaran Informatika Kelas X</h1>
       <p style="font-size: 14px; opacity: 0.9; margin-top: 4px;">MAN 2 Garut - Semester 2</p>
      </div>
      <div style="display: flex; gap: 12px; align-items: center;">
       <div style="background: rgba(255, 255, 255, 0.15); padding: 8px 16px; border-radius: 8px;"><span id="logged-user" style="font-size: 14px; font-weight: 600;">Siswa</span>
       </div><button id="logout-student-btn" style="background: #ef4444; color: white; border: none; padding: 8px 16px; border-radius: 8px; font-size: 14px; font-weight: 600; cursor: pointer; transition: all 0.3s;" onmouseover="this.style.background='#dc2626'" onmouseout="this.style.background='#ef4444'"> ğŸšª Logout </button>
      </div>
     </div>
    </header>
    <div style="max-width: 1400px; margin: 0 auto; padding: 40px 20px;"><!-- Welcome Banner -->
     <div style="background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%); border-radius: 16px; padding: 32px; color: white; margin-bottom: 32px; box-shadow: 0 8px 20px rgba(30, 58, 138, 0.3);">
      <h2 style="font-size: 28px; font-weight: bold; margin-bottom: 12px;">ğŸ‘‹ Selamat Datang di Website Pembelajaran Informatika Kelas X!</h2>
      <p style="font-size: 16px; opacity: 0.95; line-height: 1.8;">
        Website ini dirancang sebagai media pembelajaran untuk membantu siswa SMA kelas X memahami konsep dasar Informatika secara mudah, terstruktur, dan interaktif.</p>
      <div style="margin-top: 20px; display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px;">
       <div style="background: rgba(255, 255, 255, 0.15); padding: 16px; border-radius: 12px; text-align: center;">
        <div style="font-size: 32px; margin-bottom: 8px;">
         ğŸ—“ï¸
        </div>
        <div style="font-size: 24px; font-weight: bold;">
         16
        </div>
        <div style="font-size: 14px; opacity: 0.9;">
         Total Pertemuan
        </div>
       </div>
       <div style="background: rgba(255, 255, 255, 0.15); padding: 16px; border-radius: 12px; text-align: center;">
        <div style="font-size: 32px; margin-bottom: 8px;">
         ğŸ¯
        </div>
        <div style="font-size: 24px; font-weight: bold;">
         2
        </div>
        <div style="font-size: 14px; opacity: 0.9;">
         Semester Aktif
        </div>
       </div>
       <div style="background: rgba(255, 255, 255, 0.15); padding: 16px; border-radius: 12px; text-align: center;">
        <div style="font-size: 32px; margin-bottom: 8px;">
         â°
        </div>
        <div style="font-size: 24px; font-weight: bold;">
         Pertemuan 8
        </div>
        <div style="font-size: 14px; opacity: 0.9;">
         Sedang Berjalan
        </div>
       </div>
      </div>
     </div><!-- SEMESTER 1 -->
     <div style="background: white; border-radius: 16px; padding: 32px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); margin-bottom: 32px;">
      <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px; flex-wrap: wrap; gap: 12px;">
       <div>
        <h2 style="font-size: 26px; font-weight: bold; color: #1e293b; margin-bottom: 4px;">ğŸ“˜ Semester 1</h2>
        <p style="font-size: 14px; color: #64748b;">7 Pertemuan - Sudah Selesai</p>
       </div><span style="background: #10b981; color: white; padding: 8px 20px; border-radius: 20px; font-size: 14px; font-weight: 600;">âœ… SELESAI</span>
      </div>
      <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px;"><!-- Pertemuan 1 -->
       <div style="background: #f8fafc; border-radius: 12px; padding: 20px; border: 2px solid #e2e8f0; opacity: 0.7;">
        <div style="font-size: 32px; margin-bottom: 12px;">
         ğŸ‘¨ğŸ»â€ğŸ’»
        </div>
        <h3 style="font-size: 18px; font-weight: bold; color: #64748b; margin-bottom: 8px;">Pertemuan 1</h3>
        <p style="font-size: 14px; color: #64748b; margin-bottom: 16px;">Pengenalan Informatika</p>
        <div style="background: #10b981; color: white; padding: 8px; border-radius: 6px; font-size: 13px; font-weight: 600; text-align: center;">
         âœ… Selesai
        </div>
       </div><!-- Pertemuan 2 -->
       <div style="background: #f8fafc; border-radius: 12px; padding: 20px; border: 2px solid #e2e8f0; opacity: 0.7;">
        <div style="font-size: 32px; margin-bottom: 12px;">
         ğŸ”¢
        </div>
        <h3 style="font-size: 18px; font-weight: bold; color: #64748b; margin-bottom: 8px;">Pertemuan 2</h3>
        <p style="font-size: 14px; color: #64748b; margin-bottom: 16px;">Sistem Bilangan</p>
        <div style="background: #10b981; color: white; padding: 8px; border-radius: 6px; font-size: 13px; font-weight: 600; text-align: center;">
         âœ… Selesai
        </div>
       </div><!-- Pertemuan 3 -->
       <div style="background: #f8fafc; border-radius: 12px; padding: 20px; border: 2px solid #e2e8f0; opacity: 0.7;">
        <div style="font-size: 32px; margin-bottom: 12px;">
         ğŸ§®
        </div>
        <h3 style="font-size: 18px; font-weight: bold; color: #64748b; margin-bottom: 8px;">Pertemuan 3</h3>
        <p style="font-size: 14px; color: #64748b; margin-bottom: 16px;">Logika Komputasi</p>
        <div style="background: #10b981; color: white; padding: 8px; border-radius: 6px; font-size: 13px; font-weight: 600; text-align: center;">
         âœ… Selesai
        </div>
       </div><!-- Pertemuan 4 -->
       <div style="background: #f8fafc; border-radius: 12px; padding: 20px; border: 2px solid #e2e8f0; opacity: 0.7;">
        <div style="font-size: 32px; margin-bottom: 12px;">
         ğŸ“Š
        </div>
        <h3 style="font-size: 18px; font-weight: bold; color: #64748b; margin-bottom: 8px;">Pertemuan 4</h3>
        <p style="font-size: 14px; color: #64748b; margin-bottom: 16px;">Algoritma &amp; Flowchart</p>
        <div style="background: #10b981; color: white; padding: 8px; border-radius: 6px; font-size: 13px; font-weight: 600; text-align: center;">
         âœ… Selesai
        </div>
       </div><!-- Pertemuan 5 -->
       <div style="background: #f8fafc; border-radius: 12px; padding: 20px; border: 2px solid #e2e8f0; opacity: 0.7;">
        <div style="font-size: 32px; margin-bottom: 12px;">
         ğŸ–¥ï¸
        </div>
        <h3 style="font-size: 18px; font-weight: bold; color: #64748b; margin-bottom: 8px;">Pertemuan 5</h3>
        <p style="font-size: 14px; color: #64748b; margin-bottom: 16px;">Hardware Komputer</p>
        <div style="background: #10b981; color: white; padding: 8px; border-radius: 6px; font-size: 13px; font-weight: 600; text-align: center;">
         âœ… Selesai
        </div>
       </div><!-- Pertemuan 6 -->
       <div style="background: #f8fafc; border-radius: 12px; padding: 20px; border: 2px solid #e2e8f0; opacity: 0.7;">
        <div style="font-size: 32px; margin-bottom: 12px;">
         âš™ï¸
        </div>
        <h3 style="font-size: 18px; font-weight: bold; color: #64748b; margin-bottom: 8px;">Pertemuan 6</h3>
        <p style="font-size: 14px; color: #64748b; margin-bottom: 16px;">Software &amp; Sistem Operasi</p>
        <div style="background: #10b981; color: white; padding: 8px; border-radius: 6px; font-size: 13px; font-weight: 600; text-align: center;">
         âœ… Selesai
        </div>
       </div><!-- Pertemuan 7 -->
       <div style="background: #f8fafc; border-radius: 12px; padding: 20px; border: 2px solid #e2e8f0; opacity: 0.7;">
        <div style="font-size: 32px; margin-bottom: 12px;">
         ğŸ“
        </div>
        <h3 style="font-size: 18px; font-weight: bold; color: #64748b; margin-bottom: 8px;">Pertemuan 7</h3>
        <p style="font-size: 14px; color: #64748b; margin-bottom: 16px;">UTS Semester 1</p>
        <div style="background: #10b981; color: white; padding: 8px; border-radius: 6px; font-size: 13px; font-weight: 600; text-align: center;">
         âœ… Selesai
        </div>
       </div>
      </div>
     </div><!-- SEMESTER 2 -->
     <div style="background: white; border-radius: 16px; padding: 32px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); margin-bottom: 32px;">
      <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px; flex-wrap: wrap; gap: 12px;">
       <div>
        <h2 style="font-size: 26px; font-weight: bold; color: #1e293b; margin-bottom: 4px;">ğŸ“• Semester 2</h2>
        <p style="font-size: 14px; color: #64748b;">9 Pertemuan - Pertemuan 8 Aktif</p>
       </div><span style="background: #3b82f6; color: white; padding: 8px 20px; border-radius: 20px; font-size: 14px; font-weight: 600;">âš¡ SEDANG BERJALAN</span>
      </div>
      <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px;"><!-- Pertemuan 8 (AKTIF SEKARANG) -->
       <div style="background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%); border-radius: 12px; padding: 20px; position: relative; cursor: pointer; border: 3px solid #3b82f6; box-shadow: 0 8px 24px rgba(59, 130, 246, 0.4);" onclick="showPage('materi-page')">
        <div style="position: absolute; top: 12px; right: 12px; background: #3b82f6; color: white; padding: 4px 12px; border-radius: 12px; font-size: 12px; font-weight: bold; animation: pulse 2s infinite;">
         ğŸ”¥ AKTIF
        </div>
        <div style="font-size: 32px; margin-bottom: 12px;">
         ğŸŒ
        </div>
        <h3 style="font-size: 18px; font-weight: bold; color: #1e40af; margin-bottom: 8px;">Pertemuan 8</h3>
        <p style="font-size: 14px; color: #1e40af; margin-bottom: 16px; font-weight: 500;">Jaringan Komputer &amp; Internet</p><button style="width: 100%; background: #3b82f6; color: white; border: none; padding: 10px; border-radius: 8px; font-size: 14px; font-weight: 600; cursor: pointer; transition: all 0.3s;" onmouseover="this.style.background='#2563eb'" onmouseout="this.style.background='#3b82f6'"> Mulai Belajar â†’ </button>
       </div><!-- Pertemuan 9 (Terkunci) -->
       <div style="background: #f8fafc; border-radius: 12px; padding: 20px; border: 2px solid #e2e8f0; opacity: 0.6; position: relative;">
        <div style="position: absolute; top: 12px; right: 12px; background: #64748b; color: white; padding: 4px 12px; border-radius: 12px; font-size: 12px; font-weight: bold;">
         ğŸ”’
        </div>
        <div style="font-size: 32px; margin-bottom: 12px;">
         ğŸ“¡
        </div>
        <h3 style="font-size: 18px; font-weight: bold; color: #64748b; margin-bottom: 8px;">Pertemuan 9</h3>
        <p style="font-size: 14px; color: #64748b; margin-bottom: 16px;">Protokol Jaringan</p>
        <div style="background: #cbd5e1; color: #475569; padding: 8px; border-radius: 6px; font-size: 13px; font-weight: 600; text-align: center;">
         Belum Dibuka
        </div>
       </div><!-- Pertemuan 10 (Terkunci) -->
       <div style="background: #f8fafc; border-radius: 12px; padding: 20px; border: 2px solid #e2e8f0; opacity: 0.6; position: relative;">
        <div style="position: absolute; top: 12px; right: 12px; background: #64748b; color: white; padding: 4px 12px; border-radius: 12px; font-size: 12px; font-weight: bold;">
         ğŸ”
        </div>
        <div style="font-size: 32px; margin-bottom: 12px;">
         ğŸ”
        </div>
        <h3 style="font-size: 18px; font-weight: bold; color: #64748b; margin-bottom: 8px;">Pertemuan 10</h3>
        <p style="font-size: 14px; color: #64748b; margin-bottom: 16px;">Keamanan Jaringan</p>
        <div style="background: #cbd5e1; color: #475569; padding: 8px; border-radius: 6px; font-size: 13px; font-weight: 600; text-align: center;">
         Belum Dibuka
        </div>
       </div><!-- Pertemuan 11 (Terkunci) -->
       <div style="background: #f8fafc; border-radius: 12px; padding: 20px; border: 2px solid #e2e8f0; opacity: 0.6; position: relative;">
        <div style="position: absolute; top: 12px; right: 12px; background: #64748b; color: white; padding: 4px 12px; border-radius: 12px; font-size: 12px; font-weight: bold;">
         ğŸ”’
        </div>
        <div style="font-size: 32px; margin-bottom: 12px;">
         â˜ï¸
        </div>
        <h3 style="font-size: 18px; font-weight: bold; color: #64748b; margin-bottom: 8px;">Pertemuan 11</h3>
        <p style="font-size: 14px; color: #64748b; margin-bottom: 16px;">Cloud Computing</p>
        <div style="background: #cbd5e1; color: #475569; padding: 8px; border-radius: 6px; font-size: 13px; font-weight: 600; text-align: center;">
         Belum Dibuka
        </div>
       </div><!-- Pertemuan 12 (Terkunci) -->
       <div style="background: #f8fafc; border-radius: 12px; padding: 20px; border: 2px solid #e2e8f0; opacity: 0.6; position: relative;">
        <div style="position: absolute; top: 12px; right: 12px; background: #64748b; color: white; padding: 4px 12px; border-radius: 12px; font-size: 12px; font-weight: bold;">
         ğŸ”’
        </div>
        <div style="font-size: 32px; margin-bottom: 12px;">
         ğŸ¤–
        </div>
        <h3 style="font-size: 18px; font-weight: bold; color: #64748b; margin-bottom: 8px;">Pertemuan 12</h3>
        <p style="font-size: 14px; color: #64748b; margin-bottom: 16px;">Pengenalan AI</p>
        <div style="background: #cbd5e1; color: #475569; padding: 8px; border-radius: 6px; font-size: 13px; font-weight: 600; text-align: center;">
         Belum Dibuka
        </div>
       </div><!-- Pertemuan 13 (Terkunci) -->
       <div style="background: #f8fafc; border-radius: 12px; padding: 20px; border: 2px solid #e2e8f0; opacity: 0.6; position: relative;">
        <div style="position: absolute; top: 12px; right: 12px; background: #64748b; color: white; padding: 4px 12px; border-radius: 12px; font-size: 12px; font-weight: bold;">
         ğŸ”’
        </div>
        <div style="font-size: 32px; margin-bottom: 12px;">
         ğŸ“±
        </div>
        <h3 style="font-size: 18px; font-weight: bold; color: #64748b; margin-bottom: 8px;">Pertemuan 13</h3>
        <p style="font-size: 14px; color: #64748b; margin-bottom: 16px;">Mobile Computing</p>
        <div style="background: #cbd5e1; color: #475569; padding: 8px; border-radius: 6px; font-size: 13px; font-weight: 600; text-align: center;">
         Belum Dibuka
        </div>
       </div><!-- Pertemuan 14 (Terkunci) -->
       <div style="background: #f8fafc; border-radius: 12px; padding: 20px; border: 2px solid #e2e8f0; opacity: 0.6; position: relative;">
        <div style="position: absolute; top: 12px; right: 12px; background: #64748b; color: white; padding: 4px 12px; border-radius: 12px; font-size: 12px; font-weight: bold;">
         ğŸ”’
        </div>
        <div style="font-size: 32px; margin-bottom: 12px;">
         ğŸŒ
        </div>
        <h3 style="font-size: 18px; font-weight: bold; color: #64748b; margin-bottom: 8px;">Pertemuan 14</h3>
        <p style="font-size: 14px; color: #64748b; margin-bottom: 16px;">IoT &amp; Smart City</p>
        <div style="background: #cbd5e1; color: #475569; padding: 8px; border-radius: 6px; font-size: 13px; font-weight: 600; text-align: center;">
         Belum Dibuka
        </div>
       </div><!-- Pertemuan 15 (Terkunci) -->
       <div style="background: #f8fafc; border-radius: 12px; padding: 20px; border: 2px solid #e2e8f0; opacity: 0.6; position: relative;">
        <div style="position: absolute; top: 12px; right: 12px; background: #64748b; color: white; padding: 4px 12px; border-radius: 12px; font-size: 12px; font-weight: bold;">
         ğŸ”’
        </div>
        <div style="font-size: 32px; margin-bottom: 12px;">
         ğŸ’¼
        </div>
        <h3 style="font-size: 18px; font-weight: bold; color: #64748b; margin-bottom: 8px;">Pertemuan 15</h3>
        <p style="font-size: 14px; color: #64748b; margin-bottom: 16px;">Etika Digital</p>
        <div style="background: #cbd5e1; color: #475569; padding: 8px; border-radius: 6px; font-size: 13px; font-weight: 600; text-align: center;">
         Belum Dibuka
        </div>
       </div><!-- Pertemuan 16 (Terkunci) -->
       <div style="background: #f8fafc; border-radius: 12px; padding: 20px; border: 2px solid #e2e8f0; opacity: 0.6; position: relative;">
        <div style="position: absolute; top: 12px; right: 12px; background: #64748b; color: white; padding: 4px 12px; border-radius: 12px; font-size: 12px; font-weight: bold;">
         ğŸ”’
        </div>
        <div style="font-size: 32px; margin-bottom: 12px;">
         ğŸ“
        </div>
        <h3 style="font-size: 18px; font-weight: bold; color: #64748b; margin-bottom: 8px;">Pertemuan 16</h3>
        <p style="font-size: 14px; color: #64748b; margin-bottom: 16px;">UAS Semester 2</p>
        <div style="background: #cbd5e1; color: #475569; padding: 8px; border-radius: 6px; font-size: 13px; font-weight: 600; text-align: center;">
         Belum Dibuka
        </div>
       </div>
      </div>
     </div><!-- Tombol Profil -->
     <div style="text-align: center; margin-top: 40px;"><button onclick="showPage('profile-page')" style="background: white; color: #1e3a8a; border: 2px solid #1e3a8a; padding: 12px 32px; border-radius: 8px; font-size: 16px; font-weight: 600; cursor: pointer;"> ğŸ‘¤ Lihat Profil Pembuat </button>
     </div>
    </div>
   </div><!-- HALAMAN MATERI -->
   <div id="materi-page" class="page w-full" style="background: #f8fafc;">
    <header style="width: 100%; background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%); color: white; padding: 20px;">
     <div style="max-width: 1200px; margin: 0 auto;"><button onclick="showPage('home-page')" style="background: rgba(255, 255, 255, 0.2); color: white; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer; font-size: 14px; margin-bottom: 12px;"> Kembali</button>
      <h1 style="font-size: 28px; font-weight: bold;">ğŸŒ Pertemuan 8: Jaringan Komputer dan Internet</h1>
     </div>
    </header>
    <div style="max-width: 1200px; margin: 0 auto; padding: 40px 20px;"><!-- Progress Tracker -->
     <div style="background: white; border-radius: 16px; padding: 24px; margin-bottom: 32px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);">
      <h3 style="font-size: 20px; font-weight: bold; color: #1e293b; margin-bottom: 16px;">ğŸ“Š Progress Pembelajaran</h3>
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px;">
       <div id="progress-1" style="background: #dbeafe; padding: 16px; border-radius: 12px; text-align: center; border: 3px solid #3b82f6;">
        <div style="font-size: 32px;">
         1ï¸âƒ£
        </div>
        <div style="font-size: 16px; font-weight: bold; color: #1e40af;">
         Materi 1
        </div>
        <div id="status-1" style="font-size: 13px; color: #1e40af; margin-top: 4px;">
         ğŸ”µ Aktif
        </div>
       </div>
       <div id="progress-2" style="background: #f8fafc; padding: 16px; border-radius: 12px; text-align: center; border: 3px solid #cbd5e1; opacity: 0.6;">
        <div style="font-size: 32px;">
         2ï¸âƒ£
        </div>
        <div style="font-size: 16px; font-weight: bold; color: #64748b;">
         Materi 2
        </div>
        <div id="status-2" style="font-size: 13px; color: #64748b; margin-top: 4px;">
         ğŸ”’ Terkunci
        </div>
       </div>
       <div id="progress-3" style="background: #f8fafc; padding: 16px; border-radius: 12px; text-align: center; border: 3px solid #cbd5e1; opacity: 0.6;">
        <div style="font-size: 32px;">
         3ï¸âƒ£
        </div>
        <div style="font-size: 16px; font-weight: bold; color: #64748b;">
         Materi 3
        </div>
        <div id="status-3" style="font-size: 13px; color: #64748b; margin-top: 4px;">
         ğŸ”’ Terkunci
        </div>
       </div>
      </div>
     </div><!-- MATERI 1 -->
     <div id="section-1">
      <div style="background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%); border-radius: 16px; padding: 32px; color: white; margin-bottom: 32px;">
       <h2 style="font-size: 28px; font-weight: bold;">ğŸ“š Materi 1: Pengertian Komunikasi Data</h2>
      </div>
      <div class="info-box">
        <p style="font-size: 15px; color: #1e40af; line-height: 1.8;"><strong>â¡ï¸ Tujuan Pembelajaran:</strong> Setelah mempelajari materi ini melalui video pembelajaran, peserta didik mampu menjelaskan konsep jaringan komputer dan internet serta membedakan jaringan lokal (LAN) dan internet berdasarkan cakupan dan penerapannya dalam kehidupan sehari-hari.</p>
       </div>
      <div class="materi-card">
       <h3 style="font-size: 24px; font-weight: bold; color: #1e3a8a; margin-bottom: 16px;">ğŸ§  Pendahuluan</h3>
       <p style="font-size: 16px; color: #334155; line-height: 1.8; margin-bottom: 20px;">Di era digital ini, kita tidak bisa lepas dari internet dan jaringan komputer. Mulai dari mengakses media sosial, streaming video, hingga bekerja dari rumahâ€”semuanya membutuhkan jaringan komputer. Pada materi ini, kita akan mempelajari apa itu jaringan komputer, bagaimana internet bekerja, dan bagaimana perangkat-perangkat saling terhubung.</p>
       <h3 style="font-size: 24px; font-weight: bold; color: #1e3a8a; margin: 32px 0 16px;">ğŸ“š Definisi Jaringan Komputer</h3>
       <p style="font-size: 16px; color: #334155; line-height: 1.8; margin-bottom: 16px;"><strong>Jaringan komputer</strong> adalah kumpulan dua atau lebih perangkat komputer yang saling terhubung untuk berbagi data, informasi, dan sumber daya. Jaringan memungkinkan perangkat untuk berkomunikasi satu sama lain tanpa batasan jarak.</p>
       <div class="info-box">
        <p style="font-size: 15px; color: #1e40af; line-height: 1.8;"><strong>ğŸ’¡ Contoh sederhana:</strong> Ketika kamu mengirim pesan WhatsApp, smartphone-mu terhubung ke jaringan internet untuk mengirim data ke server WhatsApp, lalu diteruskan ke smartphone temanmu.</p>
       </div>
       <h3 style="font-size: 24px; font-weight: bold; color: #1e3a8a; margin: 32px 0 16px;">ğŸ”§ Elemen Jaringan</h3>
       <p style="font-size: 16px; color: #334155; line-height: 1.8; margin-bottom: 20px;">Sebuah jaringan komputer terdiri dari beberapa elemen penting:</p>
       <div style="background: #f8fafc; padding: 20px; border-radius: 12px; margin-bottom: 16px; border-left: 4px solid #3b82f6;">
        <h4 style="font-size: 18px; font-weight: bold; color: #1e40af; margin-bottom: 8px;">ğŸ’» End Device</h4>
        <p style="font-size: 15px; color: #334155; line-height: 1.8;">Perangkat yang digunakan oleh pengguna akhir untuk mengakses jaringan.<br><strong>Contoh:</strong> komputer, smartphone, tablet, laptop, printer jaringan.</p>
       </div>
       <div style="background: #f8fafc; padding: 20px; border-radius: 12px; margin-bottom: 16px; border-left: 4px solid #10b981;">
        <h4 style="font-size: 18px; font-weight: bold; color: #065f46; margin-bottom: 8px;">ğŸ”„ Intermediate Device</h4>
        <p style="font-size: 15px; color: #334155; line-height: 1.8;">Perangkat yang menghubungkan dan mengelola lalu lintas data antar end device.<br><strong>Contoh:</strong> router, switch, access point, modem.</p>
       </div>
       <div style="background: #f8fafc; padding: 20px; border-radius: 12px; margin-bottom: 24px; border-left: 4px solid #f59e0b;">
        <h4 style="font-size: 18px; font-weight: bold; color: #78350f; margin-bottom: 8px;">ğŸ”Œ Media Transmisi</h4>
        <p style="font-size: 15px; color: #334155; line-height: 1.8;">Media yang digunakan untuk mengirimkan data.<br><strong>Contoh:</strong> kabel tembaga (UTP), kabel fiber optik, gelombang radio (WiFi), satelit.</p>
       </div>
       <h3 style="font-size: 24px; font-weight: bold; color: #1e3a8a; margin: 32px 0 16px;">âš™ï¸ Cara Kerja TCP/IP</h3>
       <p style="font-size: 16px; color: #334155; line-height: 1.8; margin-bottom: 16px;"><strong>TCP/IP</strong> (Transmission Control Protocol/Internet Protocol) adalah protokol komunikasi standar yang digunakan di internet. TCP/IP membagi data menjadi paket-paket kecil, mengirimkannya melalui jaringan, lalu menyusunnya kembali di tujuan.</p>
       <div class="info-box">
        <h4 style="font-size: 18px; font-weight: bold; color: #1e40af; margin-bottom: 12px;">ğŸ“‹ Proses Komunikasi TCP/IP:</h4>
        <ol style="font-size: 15px; color: #1e40af; line-height: 2; padding-left: 20px;">
         <li><strong>Application Layer:</strong> Aplikasi (browser, email) meminta data</li>
         <li><strong>Transport Layer:</strong> TCP membagi data menjadi paket dan menambahkan nomor urut</li>
         <li><strong>Internet Layer:</strong> IP menambahkan alamat tujuan pada setiap paket</li>
         <li><strong>Network Access Layer:</strong> Paket dikirim melalui media fisik (kabel/WiFi)</li>
         <li><strong>Penerimaan:</strong> Paket diterima, disusun ulang, dan ditampilkan</li>
        </ol>
       </div>
       <h3 style="font-size: 24px; font-weight: bold; color: #1e3a8a; margin: 32px 0 16px;">âœ… Kesimpulan</h3>
       <p style="font-size: 16px; color: #334155; line-height: 1.8; margin-bottom: 24px;">Jaringan komputer dan internet telah mengubah cara kita berkomunikasi, bekerja, dan belajar. Dengan memahami konsep dasar jaringan, kita dapat memanfaatkan teknologi ini dengan lebih optimal dan aman.</p>
       <div class="success-box" style="text-align: center;"><button onclick="finishMateri(1)" style="background: #10b981; color: white; border: none; padding: 14px 40px; border-radius: 8px; font-size: 16px; font-weight: 600; cursor: pointer;"> âœ… Saya Sudah Membaca Materi </button>
        <p style="font-size: 13px; color: #065f46; margin-top: 12px;">Klik untuk membuka video</p>
       </div>
      </div><!-- Video 1 (Hidden) -->
      <div id="video-1" style="display: none; margin-top: 32px;">
       <div style="background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%); border-radius: 16px; padding: 32px; color: white; margin-bottom: 24px;">
        <h2 style="font-size: 28px; font-weight: bold;">ğŸ¥ Video: Pengertian Komunikasi Data</h2>
       </div>
       <div class="materi-card">
        <div style="border-radius: 12px; overflow: hidden; margin-bottom: 24px;"><iframe width="100%" height="500" src="https://app.lumi.education/run/tI8zic" frameborder="0" allowfullscreen style="display: block;"></iframe>
        </div>
        <div class="success-box" style="text-align: center;"><button onclick="finishVideo(1)" style="background: #8b5cf6; color: white; border: none; padding: 14px 40px; border-radius: 8px; font-size: 16px; font-weight: 600; cursor: pointer;"> âœ… Saya Sudah Menonton Video </button>
         <p style="font-size: 13px; color: #065f46; margin-top: 12px;">Klik untuk membuka quiz</p>
        </div>
       </div>
      </div><!-- Quiz 1 (Hidden) -->
      <div id="quiz-1" style="display: none; margin-top: 32px;">
       <div style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); border-radius: 16px; padding: 32px; color: white; margin-bottom: 24px;">
        <h2 style="font-size: 28px; font-weight: bold;">ğŸ“ Quiz Materi 1</h2>
       </div>
       <div class="materi-card">
        <div id="quiz-container-1"></div>
        <div id="quiz-result-1" style="display: none; margin-top: 24px;"></div>
        <div id="submit-btn-1" style="text-align: center; margin-top: 32px;"><button onclick="submitQuiz(1)" style="background: #f59e0b; color: white; border: none; padding: 16px 48px; border-radius: 8px; font-size: 18px; font-weight: 600; cursor: pointer;"> Submit Quiz ğŸ“ </button>
        </div>
       </div>
      </div>
     </div><!-- MATERI 2 -->
     <div id="section-2" style="display: none; margin-top: 64px;">
      <div style="background: linear-gradient(135deg, #10b981 0%, #059669 100%); border-radius: 16px; padding: 32px; color: white; margin-bottom: 32px;">
       <h2 style="font-size: 28px; font-weight: bold;">ğŸ“š Materi 2: Konektivitas Internet</h2>
      </div>
      <div class="info-box">
        <p style="font-size: 15px; color: #1e40af; line-height: 1.8;"><strong>â¡ï¸ Tujuan Pembelajaran:</strong> Setelah mempelajari materi ini melalui video pembelajaran, peserta didik mampu menjelaskan jenis-jenis konektivitas internet berbasis kabel dan nirkabel serta menentukan contoh penggunaannya sesuai kebutuhan dalam kehidupan sehari-hari.</p>
          </div>
      <div class="materi-card">
       <h3 style="font-size: 24px; font-weight: bold; color: #059669; margin-bottom: 16px;">ğŸŒŸ Pengenalan Konektivitas</h3>
       <p style="font-size: 16px; color: #334155; line-height: 1.8; margin-bottom: 20px;">Konektivitas internet adalah kemampuan perangkat untuk terhubung ke jaringan internet dan berkomunikasi dengan perangkat lain di seluruh dunia. Tanpa konektivitas yang baik, kita tidak bisa mengakses informasi, streaming video, atau bermain game online.</p>
       <h3 style="font-size: 24px; font-weight: bold; color: #059669; margin: 32px 0 16px;">ğŸ“¡ Jenis-Jenis Koneksi Internet</h3>
       <div style="background: #f8fafc; padding: 20px; border-radius: 12px; margin-bottom: 16px; border-left: 4px solid #10b981;">
        <h4 style="font-size: 18px; font-weight: bold; color: #065f46; margin-bottom: 8px;">1. Dial-up</h4>
        <p style="font-size: 15px; color: #334155; line-height: 1.8;">Koneksi melalui saluran telepon analog. Kecepatan sangat lambat (max 56 Kbps). Sudah jarang digunakan karena teknologi lain lebih cepat.</p>
       </div>
       <div style="background: #f8fafc; padding: 20px; border-radius: 12px; margin-bottom: 16px; border-left: 4px solid #10b981;">
        <h4 style="font-size: 18px; font-weight: bold; color: #065f46; margin-bottom: 8px;">2. ADSL (Asymmetric Digital Subscriber Line)</h4>
        <p style="font-size: 15px; color: #334155; line-height: 1.8;">Menggunakan kabel telepon tembaga. Kecepatan download lebih cepat dari upload. Cocok untuk browsing dan streaming. Kecepatan: 1-24 Mbps.</p>
       </div>
       <div style="background: #f8fafc; padding: 20px; border-radius: 12px; margin-bottom: 16px; border-left: 4px solid #10b981;">
        <h4 style="font-size: 18px; font-weight: bold; color: #065f46; margin-bottom: 8px;">3. Kabel Fiber Optik</h4>
        <p style="font-size: 15px; color: #334155; line-height: 1.8;">Menggunakan serat kaca untuk transmisi cahaya. Kecepatan sangat tinggi (hingga 1 Gbps atau lebih). Stabil dan latensi rendah. Ideal untuk gaming dan streaming 4K.</p>
       </div>
       <div style="background: #f8fafc; padding: 20px; border-radius: 12px; margin-bottom: 16px; border-left: 4px solid #10b981;">
        <h4 style="font-size: 18px; font-weight: bold; color: #065f46; margin-bottom: 8px;">4. Mobile Internet (3G/4G/5G)</h4>
        <p style="font-size: 15px; color: #334155; line-height: 1.8;">Menggunakan jaringan seluler. 3G: hingga 2 Mbps | 4G LTE: hingga 100 Mbps | 5G: hingga 1 Gbps. Fleksibel dan mobile, cocok untuk smartphone.</p>
       </div>
       <div style="background: #f8fafc; padding: 20px; border-radius: 12px; margin-bottom: 24px; border-left: 4px solid #10b981;">
        <h4 style="font-size: 18px; font-weight: bold; color: #065f46; margin-bottom: 8px;">5. Satelit</h4>
        <p style="font-size: 15px; color: #334155; line-height: 1.8;">Menggunakan satelit komunikasi di orbit. Cocok untuk daerah terpencil tanpa infrastruktur kabel. Latensi tinggi (delay), kurang ideal untuk gaming real-time.</p>
       </div>
       <h3 style="font-size: 24px; font-weight: bold; color: #059669; margin: 32px 0 16px;">ğŸ”Œ Perangkat Konektivitas</h3>
       <p style="font-size: 16px; color: #334155; line-height: 1.8; margin-bottom: 16px;">Untuk terhubung ke internet, kita membutuhkan beberapa perangkat:</p>
       <div style="display: grid; gap: 16px; margin-bottom: 24px;">
        <div style="background: #d1fae5; padding: 16px; border-radius: 8px;">
         <h4 style="font-size: 18px; font-weight: bold; color: #065f46; margin-bottom: 8px;">ğŸ”§ Modem</h4>
         <p style="font-size: 15px; color: #334155;">Mengubah sinyal analog menjadi digital (dan sebaliknya). Menghubungkan rumah/kantor ke ISP (Internet Service Provider).</p>
        </div>
        <div style="background: #d1fae5; padding: 16px; border-radius: 8px;">
         <h4 style="font-size: 18px; font-weight: bold; color: #065f46; margin-bottom: 8px;">ğŸ“¶ Router</h4>
         <p style="font-size: 15px; color: #334155;">Membagi koneksi internet ke banyak perangkat. Mengatur lalu lintas data di jaringan lokal. Bisa wireless (WiFi) atau kabel (Ethernet).</p>
        </div>
        <div style="background: #d1fae5; padding: 16px; border-radius: 8px;">
         <h4 style="font-size: 18px; font-weight: bold; color: #065f46; margin-bottom: 8px;">ğŸŒ Access Point</h4>
         <p style="font-size: 15px; color: #334155;">Memperluas jangkauan sinyal WiFi. Menghubungkan perangkat wireless ke jaringan kabel.</p>
        </div>
       </div>
       <div class="info-box">
        <p style="font-size: 15px; color: #1e40af; line-height: 1.8;"><strong>ğŸ’¡ Tip:</strong> Untuk koneksi stabil, gunakan kabel Ethernet untuk perangkat yang tidak berpindah (PC, konsol game). Gunakan WiFi untuk perangkat mobile (smartphone, laptop).</p>
       </div>
       <h3 style="font-size: 24px; font-weight: bold; color: #059669; margin: 32px 0 16px;">âœ… Kesimpulan</h3>
       <p style="font-size: 16px; color: #334155; line-height: 1.8; margin-bottom: 24px;">Memilih jenis koneksi internet yang tepat tergantung pada kebutuhan, lokasi, dan budget. Fiber optik menawarkan kecepatan tertinggi, sedangkan mobile internet memberikan fleksibilitas. Perangkat seperti modem, router, dan access point bekerja sama untuk memberikan konektivitas yang stabil.</p>
       <div class="success-box" style="text-align: center;"><button onclick="finishMateri(2)" style="background: #10b981; color: white; border: none; padding: 14px 40px; border-radius: 8px; font-size: 16px; font-weight: 600; cursor: pointer;"> âœ… Saya Sudah Membaca Materi </button>
        <p style="font-size: 13px; color: #065f46; margin-top: 12px;">Klik untuk membuka video</p>
       </div>
      </div><!-- Video 2 -->
      <div id="video-2" style="display: none; margin-top: 32px;">
       <div style="background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%); border-radius: 16px; padding: 32px; color: white; margin-bottom: 24px;">
        <h2 style="font-size: 28px; font-weight: bold;">ğŸ¥ Video: Konektivitas Internet</h2>
       </div>
       <div class="materi-card">
        <div style="border-radius: 12px; overflow: hidden; margin-bottom: 24px;"><iframe width="100%" height="500" src="https://app.lumi.education/run/SGfIpN" frameborder="0" allowfullscreen style="display: block;"></iframe>
        </div>
        <div class="success-box" style="text-align: center;"><button onclick="finishVideo(2)" style="background: #8b5cf6; color: white; border: none; padding: 14px 40px; border-radius: 8px; font-size: 16px; font-weight: 600; cursor: pointer;"> âœ… Saya Sudah Menonton Video </button>
         <p style="font-size: 13px; color: #065f46; margin-top: 12px;">Klik untuk membuka quiz</p>
        </div>
       </div>
      </div><!-- Quiz 2 -->
      <div id="quiz-2" style="display: none; margin-top: 32px;">
       <div style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); border-radius: 16px; padding: 32px; color: white; margin-bottom: 24px;">
        <h2 style="font-size: 28px; font-weight: bold;">ğŸ“ Quiz Materi 2</h2>
       </div>
       <div class="materi-card">
        <div id="quiz-container-2"></div>
        <div id="quiz-result-2" style="display: none; margin-top: 24px;"></div>
        <div id="submit-btn-2" style="text-align: center; margin-top: 32px;"><button onclick="submitQuiz(2)" style="background: #f59e0b; color: white; border: none; padding: 16px 48px; border-radius: 8px; font-size: 18px; font-weight: 600; cursor: pointer;"> Submit Quiz ğŸ“ </button>
        </div>
       </div>
      </div>
     </div><!-- MATERI 3 -->
     <div id="section-3" style="display: none; margin-top: 64px;">
      <div style="background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%); border-radius: 16px; padding: 32px; color: white; margin-bottom: 32px;">
       <h2 style="font-size: 28px; font-weight: bold;">ğŸ“š Materi 3: Komunikasi Data</h2>
      </div>
      <div class="info-box">
        <p style="font-size: 15px; color: #1e40af; line-height: 1.8;"><strong>â¡ï¸ Tujuan Pembelajaran:</strong> Setelah mempelajari materi ini melalui video pembelajaran, peserta didik mampu menjelaskan proses komunikasi data antarperangkat dan menggambarkan contoh perancangan jaringan sederhana berdasarkan kasus yang diberikan.</p>
          </div>
      <div class="materi-card">
       <h3 style="font-size: 24px; font-weight: bold; color: #7c3aed; margin-bottom: 16px;">ğŸŒŸ Pengertian Komunikasi Data</h3>
       <p style="font-size: 16px; color: #334155; line-height: 1.8; margin-bottom: 20px;"><strong>Komunikasi data</strong> adalah proses pengiriman dan penerimaan data/informasi dari dua atau lebih perangkat melalui media transmisi. Setiap kali kita mengirim pesan WhatsApp, email, atau melakukan video call, kita sedang melakukan komunikasi data.</p>
       <h3 style="font-size: 24px; font-weight: bold; color: #7c3aed; margin: 32px 0 16px;">ğŸ“‹ Komponen Komunikasi Data</h3>
       <p style="font-size: 16px; color: #334155; line-height: 1.8; margin-bottom: 20px;">Ada 5 komponen utama dalam sistem komunikasi data:</p>
       <div style="background: #f8fafc; padding: 20px; border-radius: 12px; margin-bottom: 16px; border-left: 4px solid #8b5cf6;">
        <h4 style="font-size: 18px; font-weight: bold; color: #6d28d9; margin-bottom: 8px;">1. Pengirim (Sender)</h4>
        <p style="font-size: 15px; color: #334155; line-height: 1.8;">Perangkat yang mengirim data. <strong>Contoh:</strong> komputer, smartphone, kamera CCTV.</p>
       </div>
       <div style="background: #f8fafc; padding: 20px; border-radius: 12px; margin-bottom: 16px; border-left: 4px solid #8b5cf6;">
        <h4 style="font-size: 18px; font-weight: bold; color: #6d28d9; margin-bottom: 8px;">2. Penerima (Receiver)</h4>
        <p style="font-size: 15px; color: #334155; line-height: 1.8;">Perangkat yang menerima data. <strong>Contoh:</strong> laptop penerima email, smartphone yang menerima chat.</p>
       </div>
       <div style="background: #f8fafc; padding: 20px; border-radius: 12px; margin-bottom: 16px; border-left: 4px solid #8b5cf6;">
        <h4 style="font-size: 18px; font-weight: bold; color: #6d28d9; margin-bottom: 8px;">3. Data/Pesan</h4>
        <p style="font-size: 15px; color: #334155; line-height: 1.8;">Informasi yang dikirim. Bisa berupa teks, gambar, video, audio, atau file.</p>
       </div>
       <div style="background: #f8fafc; padding: 20px; border-radius: 12px; margin-bottom: 16px; border-left: 4px solid #8b5cf6;">
        <h4 style="font-size: 18px; font-weight: bold; color: #6d28d9; margin-bottom: 8px;">4. Media Transmisi</h4>
        <p style="font-size: 15px; color: #334155; line-height: 1.8;">Jalur yang dilalui data. <strong>Contoh:</strong> kabel UTP, fiber optik, WiFi, Bluetooth.</p>
       </div>
       <div style="background: #f8fafc; padding: 20px; border-radius: 12px; margin-bottom: 24px; border-left: 4px solid #8b5cf6;">
        <h4 style="font-size: 18px; font-weight: bold; color: #6d28d9; margin-bottom: 8px;">5. Protokol</h4>
        <p style="font-size: 15px; color: #334155; line-height: 1.8;">Aturan/standar komunikasi. <strong>Contoh:</strong> TCP/IP, HTTP, FTP, SMTP.</p>
       </div>
       <h3 style="font-size: 24px; font-weight: bold; color: #7c3aed; margin: 32px 0 16px;">ğŸ“¡ Mode Transmisi Data</h3>
       <div style="display: grid; gap: 16px; margin-bottom: 24px;">
        <div style="background: #ede9fe; padding: 16px; border-radius: 8px;">
         <h4 style="font-size: 18px; font-weight: bold; color: #6d28d9; margin-bottom: 8px;">â¡ï¸ Simplex</h4>
         <p style="font-size: 15px; color: #334155;">Data hanya mengalir satu arah. <strong>Contoh:</strong> siaran TV, radio, keyboard ke komputer.</p>
        </div>
        <div style="background: #ede9fe; padding: 16px; border-radius: 8px;">
         <h4 style="font-size: 18px; font-weight: bold; color: #6d28d9; margin-bottom: 8px;">â†”ï¸ Half-Duplex</h4>
         <p style="font-size: 15px; color: #334155;">Data bisa mengalir dua arah, tapi tidak bersamaan. <strong>Contoh:</strong> walkie-talkie (harus bergantian bicara).</p>
        </div>
        <div style="background: #ede9fe; padding: 16px; border-radius: 8px;">
         <h4 style="font-size: 18px; font-weight: bold; color: #6d28d9; margin-bottom: 8px;">â‡„ Full-Duplex</h4>
         <p style="font-size: 15px; color: #334155;">Data bisa mengalir dua arah secara bersamaan. <strong>Contoh:</strong> telepon, video call, chat online.</p>
        </div>
       </div>
       <h3 style="font-size: 24px; font-weight: bold; color: #7c3aed; margin: 32px 0 16px;">ğŸ” Keamanan Komunikasi Data</h3>
       <p style="font-size: 16px; color: #334155; line-height: 1.8; margin-bottom: 16px;">Data yang dikirim melalui internet harus dilindungi agar tidak disadap atau diubah oleh pihak yang tidak berwenang:</p>
       <div class="info-box">
        <h4 style="font-size: 18px; font-weight: bold; color: #1e40af; margin-bottom: 12px;">ğŸ›¡ï¸ Metode Keamanan:</h4>
        <ul style="font-size: 15px; color: #1e40af; line-height: 2; padding-left: 20px;">
         <li><strong>Enkripsi:</strong> Mengubah data menjadi kode rahasia (contoh: HTTPS, VPN)</li>
         <li><strong>Firewall:</strong> Memblokir akses tidak sah ke jaringan</li>
         <li><strong>Autentikasi:</strong> Memverifikasi identitas pengguna (password, biometrik)</li>
         <li><strong>SSL/TLS:</strong> Protokol keamanan untuk website (ikon gembok di browser)</li>
        </ul>
       </div>
       <h3 style="font-size: 24px; font-weight: bold; color: #7c3aed; margin: 32px 0 16px;">âœ… Kesimpulan</h3>
       <p style="font-size: 16px; color: #334155; line-height: 1.8; margin-bottom: 24px;">Komunikasi data adalah fondasi dari semua layanan internet modern. Dengan memahami komponen, mode transmisi, dan aspek keamanannya, kita bisa memanfaatkan teknologi komunikasi dengan lebih efektif dan aman.</p>
       <div class="success-box" style="text-align: center;"><button onclick="finishMateri(3)" style="background: #10b981; color: white; border: none; padding: 14px 40px; border-radius: 8px; font-size: 16px; font-weight: 600; cursor: pointer;"> âœ… Saya Sudah Membaca Materi </button>
        <p style="font-size: 13px; color: #065f46; margin-top: 12px;">Klik untuk membuka video</p>
       </div>
      </div><!-- Video 3 -->
      <div id="video-3" style="display: none; margin-top: 32px;">
       <div style="background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%); border-radius: 16px; padding: 32px; color: white; margin-bottom: 24px;">
        <h2 style="font-size: 28px; font-weight: bold;">ğŸ¥ Video: Komunikasi Data</h2>
       </div>
       <div class="materi-card">
        <div style="border-radius: 12px; overflow: hidden; margin-bottom: 24px;"><iframe width="100%" height="500" src="https://app.lumi.education/run/Boo9M2" frameborder="0" allowfullscreen style="display: block;"></iframe>
        </div>
        <div class="success-box" style="text-align: center;"><button onclick="finishVideo(3)" style="background: #8b5cf6; color: white; border: none; padding: 14px 40px; border-radius: 8px; font-size: 16px; font-weight: 600; cursor: pointer;"> âœ… Saya Sudah Menonton Video </button>
         <p style="font-size: 13px; color: #065f46; margin-top: 12px;">Klik untuk membuka quiz</p>
        </div>
       </div>
      </div><!-- Quiz 3 -->
      <div id="quiz-3" style="display: none; margin-top: 32px;">
  <div style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); border-radius: 16px; padding: 32px; color: white; margin-bottom: 24px;">
    <h2 style="font-size: 28px; font-weight: bold;">ğŸ“ Quiz Materi 3</h2>
  </div>
  <div class="materi-card">
    <div id="quiz-container-3"></div>
    
    <div id="quiz-result-3" style="display: none; margin-top: 24px;">
        </div>

    <div id="rangkuman-materi-3" style="display: none; background: #f0fdf4; border: 2px solid #22c55e; border-radius: 12px; padding: 24px; margin-top: 24px; text-align: left; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);">
        <h3 style="font-size: 22px; font-weight: bold; color: #15803d; margin-bottom: 16px; display: flex; align-items: center;">
            ğŸ“Œ Rangkuman Materi
        </h3>
        <div style="font-size: 16px; color: #166534; line-height: 1.8;">
            <p style="margin-bottom: 12px;"><strong>Jaringan komputer</strong> adalah hubungan perangkat untuk berbagi data ğŸ’». LAN untuk area terbatas, sedangkan <strong>internet</strong> adalah jaringan global ğŸŒ.</p>
            <p style="margin-bottom: 12px;">Koneksi internet disediakan oleh <strong>ISP</strong>, melalui media <strong>kabel</strong> maupun <strong>nirkabel</strong> (WiFi, 4G/LTE) ğŸ“¶.</p>
            <p style="margin-bottom: 12px;"><strong>Komunikasi data</strong> adalah proses kirim-terima informasi. Keamanannya dijaga dengan enkripsi, firewall, dan SSL/TLS ğŸ”.</p>
            <p>Di rumah, kita menggunakan <strong>router</strong> untuk menghubungkan perangkat ke internet secara bersamaan ğŸš€.</p>
        </div>
    </div>

    <div id="submit-btn-3" style="text-align: center; margin-top: 32px;">
      <button onclick="submitQuiz(3); document.getElementById('rangkuman-materi-3').style.display='block';" style="background: #f59e0b; color: white; border: none; padding: 16px 48px; border-radius: 8px; font-size: 18px; font-weight: 600; cursor: pointer;"> Submit Quiz ğŸ“ </button>
    </div>
  </div>
</div>
      <div id="final-eval-button" style="display: none; margin-top: 48px; text-align: center; background: linear-gradient(135deg, #dc2626 0%, #ef4444 100%); border-radius: 16px; padding: 40px;">
       <div style="font-size: 64px; margin-bottom: 16px;">
        ğŸ¤”
       </div>
       <h3 style="font-size: 28px; font-weight: bold; color: white; margin-bottom: 12px;">Siap untuk Evaluasi Akhir?</h3>
       <p style="font-size: 16px; color: white; opacity: 0.95; margin-bottom: 24px;">Anda telah menyelesaikan semua materi. Saatnya mengerjakan evaluasi akhir dengan 10 soal!<br>
        Nilai 70 ke atas berhak mendapat sertifikat! ğŸ“</p><button onclick="showFinalEvaluation()" style="background: white; color: #dc2626; border: none; padding: 16px 48px; border-radius: 8px; font-size: 18px; font-weight: 600; cursor: pointer; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);"> ğŸ‘‰ğŸ¼ Mulai Evaluasi Akhir </button>
      </div>
     </div>
    </div>
   </div><!-- HALAMAN EVALUASI AKHIR -->
   <div id="final-evaluation-page" class="page w-full" style="background: #f8fafc;">
    <header style="width: 100%; background: linear-gradient(135deg, #dc2626 0%, #ef4444 100%); color: white; padding: 20px;">
     <div style="max-width: 1200px; margin: 0 auto;">
      <h1 style="font-size: 28px; font-weight: bold;">ğŸ¯ Evaluasi Akhir - Pertemuan 8</h1>
      <p style="font-size: 16px; opacity: 0.95; margin-top: 8px;">Uji pemahaman keseluruhan materi Jaringan Komputer &amp; Internet</p>
     </div>
    </header>
    <div style="max-width: 1200px; margin: 0 auto; padding: 40px 20px;">
     <div class="warning-box" style="margin-bottom: 32px;">
      <h3 style="font-size: 20px; font-weight: bold; color: #92400e; margin-bottom: 12px;">âš ï¸ Perhatian!</h3>
      <ul style="font-size: 15px; color: #92400e; line-height: 2; padding-left: 20px;">
       <li><strong>10 soal pilihan ganda</strong> menyeluruh dari semua materi</li>
       <li><strong>Nilai 70 ke atas</strong> mendapat sertifikat penghargaan</li>
       <li>Kerjakan dengan teliti dan jujur</li>
       <li>Hasil akan langsung tersimpan setelah submit</li>
      </ul>
     </div>
     <div style="background: white; border-radius: 16px; padding: 32px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); margin-bottom: 32px;">
      <div style="background: linear-gradient(135deg, #dc2626 0%, #ef4444 100%); border-radius: 12px; padding: 24px; color: white; margin-bottom: 32px; text-align: center;">
       <div style="font-size: 64px; margin-bottom: 16px;">
        ğŸ“
       </div>
       <h2 style="font-size: 28px; font-weight: bold; margin-bottom: 8px;">Evaluasi Akhir Pertemuan 8</h2>
       <p style="font-size: 16px; opacity: 0.95;">Jaringan Komputer dan Internet - 10 Soal</p>
      </div>
      <div id="final-quiz-container"></div>
      <div id="final-quiz-result" style="display: none; margin-top: 24px;"></div>
      <div id="final-submit-btn" style="text-align: center; margin-top: 32px;"><button onclick="submitFinalQuiz()" style="background: #dc2626; color: white; border: none; padding: 18px 56px; border-radius: 8px; font-size: 18px; font-weight: 600; cursor: pointer; box-shadow: 0 4px 12px rgba(220, 38, 38, 0.3);"> Submit Evaluasi Akhir ğŸ¯ </button>
      </div>
     </div>
     <div style="text-align: center;"><button onclick="showPage('materi-page')" style="background: white; color: #1e3a8a; border: 2px solid #1e3a8a; padding: 12px 32px; border-radius: 8px; font-size: 16px; font-weight: 600; cursor: pointer;"> â† Kembali ke Materi </button>
     </div>
    </div>
   </div><!-- Halaman 8: PROFIL PEMBUAT -->
  <div id="profile-page" class="page w-full" style="background: #f8fafc;">
   <header style="width: 100%; background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%); color: white; padding: 20px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
    <div style="max-width: 1200px; margin: 0 auto;"><button onclick="showPage('home-page')" style="background: rgba(255, 255, 255, 0.2); color: white; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer; font-size: 14px; margin-bottom: 12px;">â† Kembali ke Beranda</button>
     <h1 style="font-size: 28px; font-weight: bold;">ğŸ‘¥ Profil Pembuat Website</h1>
    </div>
   </header>
   <div style="width: 100%; display: flex; justify-content: center; margin: 40px 0 20px;">
      <img src="https://drive.google.com/thumbnail?id=1BiUDAgo98Sl2QXB27uQTf25_k39RnVYn&sz=w400"
           alt="Logo IPI"
           style="width: 120px; height: 120px; object-fit: contain;">
   </div>

   <h2 style="font-size: 24px; font-weight: bold; color: #1e3a8a; margin-bottom: 24px; text-align: center;">Tim Pembuat</h2>
   <div style="display: flex; justify-content: center; gap: 32px; padding: 30px;">

<!-- Member 1 -->
<div style="background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%);
            padding: 32px; width: 280px; border-radius: 16px;
            color: white; text-align: center;">
    
    <!-- Foto -->
    <div style="width: 110px; height: 110px; background: white; border-radius: 50%;
                display: flex; align-items: center; justify-content: center;
                margin: 0 auto 16px; overflow: hidden;">
        <img src="https://lh3.googleusercontent.com/d/15-n8e0oYkg9oFvxVSvXbaUW5TEJQ6I5U"
             alt="Putri Triani"
             style="width: 100%; height: 100%; object-fit: cover;">
    </div>

    <!-- Nama & NIM -->
    <h3 style="font-size: 20px; font-weight: bold; margin-bottom: 8px;">Putri Triani</h3>
    <p style="font-size: 15px; opacity: 0.9; margin-bottom: 4px;">NIM: 23833032</p>
    <p style="font-size: 14px; opacity: 0.85;">Pendidikan Teknologi Informasi</p>
</div>

<!-- Member 2 -->
<div style="background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%);
            padding: 32px; width: 280px; border-radius: 16px;
            color: white; text-align: center;">
    
    <div style="width: 110px; height: 110px; background: white; border-radius: 50%;
                display: flex; align-items: center; justify-content: center;
                margin: 0 auto 16px; overflow: hidden;">
        <img src="https://lh3.googleusercontent.com/d/1dLRab8ecW2_wE0xsFna1ztnfaEMhBrLm"
             alt="Sifa Nurul Hasanah"
             style="width: 100%; height: 100%; object-fit: cover;">
    </div>

    <h3 style="font-size: 20px; font-weight: bold; margin-bottom: 8px;">Sifa Nurul Hasanah</h3>
    <p style="font-size: 15px; opacity: 0.9; margin-bottom: 4px;">NIM: 23834015</p>
    <p style="font-size: 14px; opacity: 0.85;">Pendidikan Teknologi Informasi</p>
</div>

<!-- Member 3 -->
<div style="background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%);
            padding: 32px; width: 280px; border-radius: 16px;
            color: white; text-align: center;">
    
    <div style="width: 110px; height: 110px; background: white; border-radius: 50%;
                display: flex; align-items: center; justify-content: center;
                margin: 0 auto 16px; overflow: hidden;">
        <img src="https://lh3.googleusercontent.com/d/1iHcyxTngClheKnhkhDNXrEjG-gKBLDeH"
             alt="Sri Intan Aulia Paunza"
             style="width: 100%; height: 100%; object-fit: cover;">
    </div>

    <h3 style="font-size: 20px; font-weight: bold; margin-bottom: 8px;">Sri Intan Aulia Paunza</h3>
    <p style="font-size: 15px; opacity: 0.9; margin-bottom: 4px;">NIM: 23833012</p>
    <p style="font-size: 14px; opacity: 0.85;">Pendidikan Teknologi Informasi</p>
</div>
  </div>
  <script>
    const allowedStudents = [
      "Adisti", "Alvi", "Arif", "Ayu", "Dinda", "Fawaz", "Hilwa", "Iman",
      "Julia", "Naila", "Quinsha", "Radiyan", "Rafa", "Salsabila", "Seandra",
      "Septia", "Tsaqila", "Sifa Cantik"
    ];

    let currentStudent = null;
    let currentStudentClass = null;
    let isAdmin = false;
    let allData = [];

    let progress = {
      1: { materi: false, video: false, quiz: false, score: 0 },
      2: { materi: false, video: false, quiz: false, score: 0 },
      3: { materi: false, video: false, quiz: false, score: 0 }
    };

    let userAnswers = {};

    const quizData = {
      1: [
        { q: "Jaringan komputer adalah â€¦", opts: ["Kumpulan perangkat keras saja", "Hubungan dua perangkat atau lebih untuk berbagi data", "Program untuk mengakses internet", "Sistem operasi komputer"], ans: 1, exp: "Jaringan komputer adalah hubungan dua perangkat atau lebih yang saling terhubung untuk berbagi data dan sumber daya." },
        { q: "Protokol standar global yang digunakan dalam jaringan komputer adalah â€¦", opts: ["HTTP", "FTP", "TCP/IP", "HTML"], ans: 2, exp: "TCP/IP adalah protokol standar global yang digunakan dalam jaringan komputer untuk mengatur komunikasi data." },
        { q: "Jaringan yang mencakup area terbatas seperti sekolah atau rumah disebut â€¦", opts: ["WAN", "MAN", "LAN", "Internet"], ans: 2, exp: "LAN (Local Area Network) adalah jaringan yang mencakup area terbatas seperti sekolah, rumah, atau kantor." },
        { q: "Fungsi utama alamat IP adalah â€¦", opts: ["Menyimpan data", "Menghubungkan kabel", "Sebagai identitas perangkat dalam jaringan", "Mengatur sistem operasi"], ans: 2, exp: "Alamat IP berfungsi sebagai identitas unik setiap perangkat dalam jaringan agar dapat berkomunikasi dengan perangkat lain." },
        { q: "Perangkat yang bertugas menyediakan layanan dalam jaringan disebut â€¦", opts: ["Client", "Server", "Modem", "Switch"], ans: 1, exp: "Server adalah perangkat yang bertugas menyediakan layanan, data, dan sumber daya kepada perangkat client dalam jaringan." }
      ],
      2: [
        { q: "Kepanjangan dari ISP adalah â€¦", opts: ["Internet System Program", "Internal Service Provider", "Internet Service Provider", "International System Protocol"], ans: 2, exp: "ISP (Internet Service Provider) adalah penyedia layanan internet seperti Telkom, Indihome, atau Biznet." },
        { q: "Kabel yang digunakan pada koneksi internet berkecepatan tinggi adalah â€¦", opts: ["Kabel paralel", "Kabel fiber optik", "Kabel VGA", "Kabel HDMI"], ans: 1, exp: "Kabel fiber optik digunakan untuk koneksi internet berkecepatan tinggi karena menggunakan cahaya untuk transmisi data." },
        { q: "Koneksi internet Dial-Up menggunakan media â€¦", opts: ["Kabel LAN", "Gelombang radio", "Kabel fiber", "Jaringan telepon"], ans: 3, exp: "Koneksi Dial-Up menggunakan jaringan telepon (saluran telepon analog) untuk menghubungkan ke internet." },
        { q: "Kelebihan utama koneksi Wifi adalah â€¦", opts: ["Kecepatan rendah", "Menggunakan kabel", "Praktis tanpa kabel", "Jangkauan sangat luas"], ans: 2, exp: "Kelebihan utama WiFi adalah praktis dan tanpa kabel (wireless), memudahkan konektivitas perangkat mobile." },
        { q: "Koneksi internet yang menggunakan antena parabola adalah â€¦", opts: ["Wifi", "LAN", "Dial-Up", "Satelit"], ans: 3, exp: "Koneksi internet satelit menggunakan antena parabola untuk menangkap sinyal dari satelit komunikasi di orbit." }
      ],
      3: [
        { q: "Komunikasi data adalah â€¦", opts: ["Proses penyimpanan data", "Proses pengolahan data", "Proses pengiriman dan penerimaan data", "Proses penghapusan data"], ans: 2, exp: "Komunikasi data adalah proses pengiriman dan penerimaan data antar dua atau lebih perangkat melalui media transmisi." },
        { q: "BTS dalam komunikasi seluler berfungsi sebagai â€¦", opts: ["Penyimpan data", "Penghubung ponsel dengan jaringan", "Pengolah sinyal internet", "Penguat baterai"], ans: 1, exp: "BTS (Base Transceiver Station) berfungsi sebagai penghubung antara ponsel dengan jaringan seluler operator." },
        { q: "Jaringan seluler dengan kecepatan hingga 100 Mbps adalah â€¦", opts: ["GPRS", "EDGE", "3G", "4G/LTE"], ans: 3, exp: "Jaringan 4G/LTE dapat mencapai kecepatan hingga 100 Mbps, jauh lebih cepat dari generasi sebelumnya." },
        { q: "Media komunikasi data jarak dekat tanpa kabel adalah â€¦", opts: ["Kabel UTP", "Fiber optik", "Bluetooth", "Kabel data"], ans: 2, exp: "Bluetooth adalah media komunikasi data jarak dekat tanpa kabel yang umum digunakan untuk menghubungkan perangkat seperti headset dan speaker." },
        { q: "Tujuan utama perancangan jaringan adalah â€¦", opts: ["Memperbanyak perangkat", "Menghabiskan kabel", "Menghemat biaya dan meningkatkan efisiensi", "Menambah IP address"], ans: 2, exp: "Perancangan jaringan yang baik bertujuan untuk menghemat biaya dan meningkatkan efisiensi komunikasi data." }
      ],
      final: [
        { q: "Perbedaan utama antara LAN dan internet adalah â€¦", opts: ["Warna kabel", "Luas jangkauan jaringan", "Jenis perangkat", "Sistem operasi"], ans: 1, exp: "LAN mencakup area terbatas (lokal), sedangkan internet mencakup jangkauan global di seluruh dunia." },
        { q: "Modem berfungsi untuk â€¦", opts: ["Menghubungkan komputer dengan printer", "Mengubah sinyal digital dan analog", "Menyimpan data", "Mengatur IP address"], ans: 1, exp: "Modem (Modulator-Demodulator) berfungsi mengubah sinyal digital menjadi analog dan sebaliknya untuk komunikasi data." },
        { q: "Setiap perangkat jaringan harus memiliki alamat IP yang berbeda agar â€¦", opts: ["Lebih cepat", "Tidak terjadi konflik identitas", "Mudah dipindahkan", "Hemat listrik"], ans: 1, exp: "Setiap perangkat harus memiliki IP address unik untuk menghindari konflik identitas dalam jaringan." },
        { q: "Contoh koneksi internet nirkabel adalah â€¦", opts: ["Dial-Up", "ADSL", "Wifi", "Fiber optik"], ans: 2, exp: "WiFi adalah contoh koneksi internet nirkabel (wireless) yang tidak memerlukan kabel untuk menghubungkan perangkat." },
        { q: "Server dalam jaringan berfungsi sebagai â€¦", opts: ["Pengguna layanan", "Penyedia layanan", "Penghubung kabel", "Penguat sinyal"], ans: 1, exp: "Server berfungsi sebagai penyedia layanan, data, dan sumber daya kepada client dalam jaringan." },
        { q: "Jaringan yang menggunakan gelombang radio untuk komunikasi data adalah â€¦", opts: ["LAN kabel", "Fiber optik", "GPRS", "Dial-Up"], ans: 2, exp: "GPRS adalah jaringan seluler yang menggunakan gelombang radio untuk komunikasi data mobile." },
        { q: "Kekurangan utama koneksi Wifi adalah â€¦", opts: ["Mahal", "Sulit digunakan", "Jangkauan terbatas", "Tidak stabil"], ans: 2, exp: "Kekurangan utama WiFi adalah jangkauannya yang terbatas, biasanya hanya efektif dalam radius tertentu dari access point." },
        { q: "LAN cocok digunakan pada area kecil karena â€¦", opts: ["Murah dan cepat", "Tidak memerlukan server", "Tidak membutuhkan ISP", "Tidak menggunakan IP"], ans: 0, exp: "LAN cocok untuk area kecil karena biaya implementasinya murah dan kecepatan transfer datanya tinggi." },
        { q: "EDGE merupakan pengembangan dari jaringan â€¦", opts: ["3G", "4G", "GPRS", "Wifi"], ans: 2, exp: "EDGE (Enhanced Data rates for GSM Evolution) merupakan pengembangan dari teknologi GPRS dengan kecepatan lebih tinggi." },
        { q: "Perancangan jaringan yang baik akan menghasilkan â€¦", opts: ["Kabel lebih panjang", "Biaya lebih besar", "Jaringan efisien dan stabil", "IP address lebih banyak"], ans: 2, exp: "Perancangan jaringan yang baik akan menghasilkan jaringan yang efisien, stabil, hemat biaya, dan mudah dikelola." }
      ]
    };

    // Data SDK Handler
    // Deteksi mode (Canva atau Local)
const isCanvaMode = () => window.dataSdk !== undefined;
const LOCAL_STORAGE_KEY = 'informatika_data';

// Load data dari localStorage (untuk mode lokal)
function loadLocalData() {
  try {
    const stored = localStorage.getItem(LOCAL_STORAGE_KEY);
    return stored ? JSON.parse(stored) : [];
  } catch (e) {
    console.error('Error loading local data:', e);
    return [];
  }
}

// Save data ke localStorage (untuk mode lokal)
function saveLocalData(data) {
  try {
    localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(data));
  } catch (e) {
    console.error('Error saving local data:', e);
  }
}

// Data SDK Handler
const dataHandler = {
  onDataChanged(data) {
    allData = data || [];
    if (isAdmin) {
      updateAdminDashboard();
    }
  }
};

// Initialize Data SDK
async function initDataSDK() {
  if (window.dataSdk) {
    // Mode Canva - gunakan Data SDK
    console.log('ğŸŒ Mode: Canva - Menggunakan Data SDK');
    const result = await window.dataSdk.init(dataHandler);
    if (!result.isOk) {
      console.error('Failed to initialize Data SDK');
    }
  } else {
    // Mode Lokal - gunakan localStorage
    console.log('ğŸ’» Mode: Local Browser - Menggunakan localStorage');
    allData = loadLocalData();
    if (isAdmin) {
      updateAdminDashboard();
    }
  }
}

// Functions
function showPage(pageId) {
  document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
  document.getElementById(pageId).classList.add('active');
  window.scrollTo(0, 0);
}

function showLoginPage(type) {
  if (type === 'student') {
    showPage('student-login-page');
  } else if (type === 'admin') {
    showPage('admin-login-page');
  }
}

async function logActivity(activityType, activityDetail) {
  if (!currentStudent) return;
  
  const submitBtn = document.querySelector('button[type="submit"]');
  if (submitBtn) {
    submitBtn.disabled = true;
    submitBtn.style.opacity = '0.6';
    submitBtn.textContent = 'â³ Menyimpan...';
  }
  
  const now = new Date();
  const activity = {
    student_name: currentStudent,
    student_class: currentStudentClass,
    login_time: now.toISOString(),
    activity_type: activityType,
    activity_detail: activityDetail,
    timestamp: now.toISOString(),
    materi_1_read: progress[1].materi,
    materi_1_video: progress[1].video,
    materi_1_quiz: progress[1].quiz,
    materi_1_score: progress[1].score,
    materi_2_read: progress[2]?.materi || false,
    materi_2_video: progress[2]?.video || false,
    materi_2_quiz: progress[2]?.quiz || false,
    materi_2_score: progress[2]?.score || 0,
    materi_3_read: progress[3]?.materi || false,
    materi_3_video: progress[3]?.video || false,
    materi_3_quiz: progress[3]?.quiz || false,
    materi_3_score: progress[3]?.score || 0,
    final_quiz: false,
    final_score: 0
  };

  if (isCanvaMode()) {
    // Mode Canva - gunakan Data SDK
    const result = await window.dataSdk.create(activity);
    
    if (submitBtn) {
      submitBtn.disabled = false;
      submitBtn.style.opacity = '1';
    }
    
    if (!result.isOk) {
      console.error('Failed to log activity');
      showNotif('âŒ Gagal menyimpan data!');
    } else {
      console.log('âœ… Activity logged (Canva):', activityType, activityDetail);
    }
  } else {
    // Mode Lokal - gunakan localStorage
    allData.push(activity);
    saveLocalData(allData);
    
    if (submitBtn) {
      submitBtn.disabled = false;
      submitBtn.style.opacity = '1';
    }
    
    console.log('âœ… Activity logged (Local):', activityType, activityDetail);
   
  }
}

    function finishMateri(num) {
      progress[num].materi = true;
      document.getElementById(`video-${num}`).style.display = 'block';
      updateProgress();
      logActivity('Materi', `Selesai membaca Materi ${num}`);
      showNotif(`âœ… Materi ${num} selesai! Tonton video.`);
      setTimeout(() => document.getElementById(`video-${num}`).scrollIntoView({ behavior: 'smooth' }), 300);
    }

    function finishVideo(num) {
      progress[num].video = true;
      document.getElementById(`quiz-${num}`).style.display = 'block';
      generateQuiz(num);
      updateProgress();
      logActivity('Video', `Selesai menonton Video ${num}`);
      showNotif(`âœ… Video ${num} selesai! Kerjakan quiz.`);
      setTimeout(() => document.getElementById(`quiz-${num}`).scrollIntoView({ behavior: 'smooth' }), 300);
    }

    function generateQuiz(num) {
      const container = document.getElementById(`quiz-container-${num}`);
      container.innerHTML = '';
      quizData[num].forEach((item, idx) => {
        let html = `<div style="background: #f8fafc; padding: 24px; border-radius: 12px; margin-bottom: 20px; border: 2px solid #e2e8f0;">
          <h4 style="font-size: 18px; font-weight: bold; color: #1e293b; margin-bottom: 16px;">${idx + 1}. ${item.q}</h4>`;
        item.opts.forEach((opt, optIdx) => {
          html += `<div class="quiz-option" onclick="selectAnswer(${num}, ${idx}, ${optIdx})" id="q${num}-${idx}-opt${optIdx}" style="background: white; padding: 16px; border-radius: 8px; margin-bottom: 12px; border: 2px solid #e2e8f0; cursor: pointer;">
            <label style="cursor: pointer; display: flex; align-items: center; gap: 12px;">
              <input type="radio" name="q${num}-${idx}" value="${optIdx}" style="width: 18px; height: 18px;">
              <span style="font-size: 15px; color: #334155;">${opt}</span>
            </label>
          </div>`;
        });
        html += `</div>`;
        container.innerHTML += html;
      });
    }

    function selectAnswer(num, qIdx, optIdx) {
      const key = `${num}_${qIdx}`;
      userAnswers[key] = optIdx;
      document.querySelectorAll(`[id^="q${num}-${qIdx}-opt"]`).forEach((opt, idx) => {
        opt.classList.remove('selected');
        if (idx === optIdx) opt.classList.add('selected');
      });
      document.querySelector(`input[name="q${num}-${qIdx}"][value="${optIdx}"]`).checked = true;
    }

    function retryQuiz(num) {
      // Reset user answers untuk quiz ini
      quizData[num].forEach((item, idx) => {
        const key = `${num}_${idx}`;
        delete userAnswers[key];
      });
      
      // Reset progress quiz
      progress[num].quiz = false;
      progress[num].score = 0;
      
      // Sembunyikan hasil
      document.getElementById(`quiz-result-${num}`).style.display = 'none';
      
      // Tampilkan tombol submit lagi
      document.getElementById(`submit-btn-${num}`).style.display = 'block';
      
      // Generate ulang quiz (reset semua opsi)
      generateQuiz(num);
      
      showNotif(`âŸ³ Quiz ${num} direset. Silakan kerjakan lagi!`);
      
      // Scroll ke quiz
      setTimeout(() => {
        document.getElementById(`quiz-${num}`).scrollIntoView({ behavior: 'smooth' });
      }, 300);
    }

    function submitQuiz(num) {
      let correct = 0;
      let explanationsHTML = '';
      
      quizData[num].forEach((item, idx) => {
        const key = `${num}_${idx}`;
        const userAns = userAnswers[key];
        const correctAns = item.ans;
        
        document.querySelectorAll(`[id^="q${num}-${idx}-opt"]`).forEach((opt, optIdx) => {
          opt.style.pointerEvents = 'none';
          if (optIdx === correctAns) opt.classList.add('correct');
          else if (optIdx === userAns && userAns !== correctAns) opt.classList.add('incorrect');
        });
        
        if (userAns === correctAns) {
          correct++;
        } else {
          // Tambahkan penjelasan untuk jawaban yang salah
          explanationsHTML += `<div style="background: #fef3c7; padding: 16px; border-radius: 8px; margin-bottom: 12px; border-left: 4px solid #f59e0b;">
            <div style="font-size: 15px; font-weight: bold; color: #92400e; margin-bottom: 8px;">âŒ Soal ${idx + 1}: ${item.q}</div>
            <div style="font-size: 14px; color: #92400e; margin-bottom: 4px;">Jawaban Anda: <strong>${item.opts[userAns] || 'Tidak dijawab'}</strong></div>
            <div style="font-size: 14px; color: #475569; line-height: 1.6;">ğŸ’¡ <em>${item.exp}</em></div>
          </div>`;
        }
      });
      
      const score = Math.round((correct / quizData[num].length) * 100);
      const passed = score >= 70;
      progress[num].quiz = true;
      progress[num].score = score;
      
      logActivity('Quiz', `Mengerjakan Quiz ${num} - Nilai: ${score}`);
      
      const resultDiv = document.getElementById(`quiz-result-${num}`);
      resultDiv.style.display = 'block';
      
      let nextButton = '';
      if (passed && num < 3) {
        nextButton = `<button onclick="unlockNextMateri(${num + 1})" style="background: #3b82f6; color: white; border: none; padding: 14px 40px; border-radius: 8px; font-size: 16px; font-weight: 600; cursor: pointer; margin-top: 16px;">
          Lanjut ke Materi ${num + 1} â†’
        </button>`;
      }
      
      let retryButton = '';
      if (!passed) {
        retryButton = `<button onclick="retryQuiz(${num})" style="background: #f59e0b; color: white; border: none; padding: 14px 40px; border-radius: 8px; font-size: 16px; font-weight: 600; cursor: pointer; margin-top: 16px;">
          ğŸ”„ Ulangi Quiz
        </button>`;
      }

      resultDiv.innerHTML = `<div style="background: ${passed ? '#d1fae5' : '#fee2e2'}; padding: 32px; border-radius: 16px; text-align: center; border: 4px solid ${passed ? '#10b981' : '#ef4444'};">
        <div style="font-size: 64px; margin-bottom: 16px;">${passed ? 'ğŸ‰' : 'ğŸ˜¢'}</div>
        <h3 style="font-size: 28px; font-weight: bold; color: ${passed ? '#065f46' : '#991b1b'}; margin-bottom: 12px;">${passed ? 'Selamat! Lulus!' : 'Belum Berhasil'}</h3>
        <p style="font-size: 20px; font-weight: bold; color: ${passed ? '#065f46' : '#991b1b'};">Nilai: ${score}</p>
        <p style="font-size: 16px; color: ${passed ? '#065f46' : '#991b1b'}; margin-top: 8px;">Benar: ${correct}/${quizData[num].length}</p>
        <p style="font-size: 14px; color: ${passed ? '#065f46' : '#991b1b'}; margin-top: 12px; font-style: italic;">${passed ? 'Nilai minimum 70 untuk lanjut' : 'Nilai minimum 70. Silakan coba lagi!'}</p>
        ${retryButton}
        ${nextButton}
      </div>
      ${explanationsHTML ? '<div style="margin-top: 24px; text-align: left;"><h3 style="font-size: 20px; font-weight: bold; color: #1e293b; margin-bottom: 16px;">ğŸ“š Pembahasan Jawaban yang Salah:</h3>' + explanationsHTML + '</div>' : ''}`;
      
      document.getElementById(`submit-btn-${num}`).style.display = 'none';
      updateProgress();
      
      // Otomatis unlock materi berikutnya jika lulus
      if (passed && num < 3) {
        setTimeout(() => unlockNextMateri(num + 1), 1000);
      }
      
      // Jika materi 3 selesai dengan lulus, tampilkan tombol evaluasi final
      if (passed && num === 3) {
        document.getElementById('final-eval-button').style.display = 'block';
        setTimeout(() => {
          document.getElementById('final-eval-button').scrollIntoView({ behavior: 'smooth', block: 'center' });
        }, 1000);
      }
      
      window.scrollTo({ top: resultDiv.offsetTop - 100, behavior: 'smooth' });
    }

    function unlockNextMateri(num) {
      document.getElementById(`section-${num}`).style.display = 'block';
      
      const progressDiv = document.getElementById(`progress-${num}`);
      progressDiv.style.background = '#dbeafe';
      progressDiv.style.borderColor = '#3b82f6';
      progressDiv.style.opacity = '1';
      document.getElementById(`status-${num}`).textContent = 'ğŸ”µ Aktif';
      document.getElementById(`status-${num}`).style.color = '#1e40af';
      
      showNotif(`âœ… Materi ${num} telah terbuka!`);
      
      setTimeout(() => {
        document.getElementById(`section-${num}`).scrollIntoView({ behavior: 'smooth' });
      }, 500);
    }

    function updateProgress() {
      for (let i = 1; i <= 3; i++) {
        const progressDiv = document.getElementById(`progress-${i}`);
        const statusDiv = document.getElementById(`status-${i}`);
        
        if (progress[i].quiz && progress[i].score >= 70) {
          progressDiv.style.background = '#d1fae5';
          progressDiv.style.borderColor = '#10b981';
          progressDiv.style.opacity = '1';
          statusDiv.textContent = 'âœ… Selesai';
          statusDiv.style.color = '#065f46';
        } else if (progress[i].materi) {
          progressDiv.style.background = '#dbeafe';
          progressDiv.style.borderColor = '#3b82f6';
          progressDiv.style.opacity = '1';
          statusDiv.textContent = 'ğŸ”µ Aktif';
          statusDiv.style.color = '#1e40af';
        }
      }
    }

    function showNotif(msg) {
      const notif = document.createElement('div');
      notif.style.cssText = 'position: fixed; top: 20px; right: 20px; background: #10b981; color: white; padding: 16px 24px; border-radius: 12px; box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2); z-index: 10000; font-size: 15px; font-weight: 600;';
      notif.textContent = msg;
      document.body.appendChild(notif);
      setTimeout(() => {
        notif.style.transition = 'opacity 0.3s';
        notif.style.opacity = '0';
        setTimeout(() => notif.remove(), 300);
      }, 3000);
    }

    function showFinalEvaluation() {
      showPage('final-evaluation-page');
      generateFinalQuiz();
      showNotif('ğŸ¯ Saatnya Evaluasi Akhir! 10 soal menanti.');
      window.scrollTo(0, 0);
    }

    function retryFinalQuiz() {
      // Reset user answers untuk evaluasi final
      quizData.final.forEach((item, idx) => {
        const key = `final_${idx}`;
        delete userAnswers[key];
      });
      
      // Sembunyikan hasil
      document.getElementById('final-quiz-result').style.display = 'none';
      
      // Tampilkan tombol submit lagi
      document.getElementById('final-submit-btn').style.display = 'block';
      
      // Generate ulang quiz
      generateFinalQuiz();
      
      showNotif('ğŸ”„ Evaluasi Akhir direset. Silakan kerjakan lagi!');
      
      // Scroll ke atas
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function generateFinalQuiz() {
      const container = document.getElementById('final-quiz-container');
      container.innerHTML = '';
      quizData.final.forEach((item, idx) => {
        let html = `<div style="background: #f8fafc; padding: 24px; border-radius: 12px; margin-bottom: 24px; border: 2px solid #e2e8f0;">
          <h4 style="font-size: 18px; font-weight: bold; color: #1e293b; margin-bottom: 16px;">${idx + 1}. ${item.q}</h4>`;
        item.opts.forEach((opt, optIdx) => {
          html += `<div class="quiz-option" onclick="selectFinalAnswer(${idx}, ${optIdx})" id="qfinal-${idx}-opt${optIdx}" style="background: white; padding: 16px; border-radius: 8px; margin-bottom: 12px; border: 2px solid #e2e8f0; cursor: pointer;">
            <label style="cursor: pointer; display: flex; align-items: center; gap: 12px;">
              <input type="radio" name="qfinal-${idx}" value="${optIdx}" style="width: 18px; height: 18px;">
              <span style="font-size: 15px; color: #334155;">${opt}</span>
            </label>
          </div>`;
        });
        html += `</div>`;
        container.innerHTML += html;
      });
    }

    function selectFinalAnswer(qIdx, optIdx) {
      const key = `final_${qIdx}`;
      userAnswers[key] = optIdx;
      document.querySelectorAll(`[id^="qfinal-${qIdx}-opt"]`).forEach((opt, idx) => {
        opt.classList.remove('selected');
        if (idx === optIdx) opt.classList.add('selected');
      });
      document.querySelector(`input[name="qfinal-${qIdx}"][value="${optIdx}"]`).checked = true;
    }

    async function submitFinalQuiz() {
      // Cek apakah semua soal sudah dijawab
      const totalQuestions = quizData.final.length;
      const answeredQuestions = Object.keys(userAnswers).filter(key => key.startsWith('final_')).length;
      
      if (answeredQuestions < totalQuestions) {
        showNotif(`âš ï¸ Harap jawab semua soal! (${answeredQuestions}/${totalQuestions})`);
        return;
      }

      let correct = 0;
      let finalExplanationsHTML = '';
      
      quizData.final.forEach((item, idx) => {
        const key = `final_${idx}`;
        const userAns = userAnswers[key];
        const correctAns = item.ans;
        
        document.querySelectorAll(`[id^="qfinal-${idx}-opt"]`).forEach((opt, optIdx) => {
          opt.style.pointerEvents = 'none';
          if (optIdx === correctAns) opt.classList.add('correct');
          else if (optIdx === userAns && userAns !== correctAns) opt.classList.add('incorrect');
        });
        
        if (userAns === correctAns) {
          correct++;
        } else {
          // Tambahkan penjelasan untuk jawaban yang salah
          finalExplanationsHTML += `<div style="background: #fef3c7; padding: 16px; border-radius: 8px; margin-bottom: 12px; border-left: 4px solid #f59e0b;">
            <div style="font-size: 15px; font-weight: bold; color: #92400e; margin-bottom: 8px;">âŒ Soal ${idx + 1}: ${item.q}</div>
            <div style="font-size: 14px; color: #92400e; margin-bottom: 4px;">Jawaban Anda: <strong>${item.opts[userAns] || 'Tidak dijawab'}</strong></div>
            <div style="font-size: 14px; color: #475569; line-height: 1.6;">ğŸ’¡ <em>${item.exp}</em></div>
          </div>`;
        }
      });
      
      const score = Math.round((correct / totalQuestions) * 100);
      const passed = score >= 70;
      
      await logActivity('Evaluasi Final', `Mengerjakan Evaluasi Akhir - Nilai: ${score}`);
      
      const resultDiv = document.getElementById('final-quiz-result');
      resultDiv.style.display = 'block';
      
      let actionButton = '';
      if (passed) {
        actionButton = `<div style="display: flex; gap: 16px; justify-content: center; margin-top: 24px; flex-wrap: wrap;">
          <button onclick="downloadCertificate()" style="background: #10b981; color: white; border: none; padding: 16px 48px; border-radius: 8px; font-size: 18px; font-weight: 600; cursor: pointer; box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);">
            ğŸ“ Download Sertifikat
          </button>
          <button onclick="showPage('home-page')" style="background: #3b82f6; color: white; border: none; padding: 16px 48px; border-radius: 8px; font-size: 18px; font-weight: 600; cursor: pointer;">
            ğŸ  Kembali ke Beranda
          </button>
        </div>`;
      } else {
        actionButton = `<div style="display: flex; gap: 16px; justify-content: center; margin-top: 24px; flex-wrap: wrap;">
          <button onclick="showPage('materi-page')" style="background: #3b82f6; color: white; border: none; padding: 16px 48px; border-radius: 8px; font-size: 18px; font-weight: 600; cursor: pointer;">
            ğŸ“š Kembali Belajar
          </button>
          <button onclick="retryFinalQuiz()" style="background: #f59e0b; color: white; border: none; padding: 16px 48px; border-radius: 8px; font-size: 18px; font-weight: 600; cursor: pointer;">
            ğŸ”„ Ulangi Evaluasi
          </button>
        </div>`;
      }
      
      let statusMessage = '';
      if (passed) {
        statusMessage = 'âœ… Selamat! Anda telah menguasai materi Jaringan Komputer dan Internet dengan baik!<br>Data telah tersimpan dan dapat dilihat oleh guru.<br>ğŸ“ Anda berhak mendapatkan sertifikat penghargaan!';
      } else {
        statusMessage = 'ğŸ“š Terus belajar! Nilai Anda adalah ' + score + ' dari 100.<br>Pelajari kembali materi yang belum dikuasai untuk pemahaman lebih baik.<br>Anda dapat mencoba lagi setelah mempelajari ulang materinya.';
      }
      
      resultDiv.innerHTML = `<div style="background: ${passed ? 'linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%)' : 'linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)'}; padding: 48px; border-radius: 16px; text-align: center; border: 4px solid ${passed ? '#10b981' : '#f59e0b'}; box-shadow: 0 8px 24px rgba(0,0,0,0.1);">
        <div style="font-size: 80px; margin-bottom: 24px;">${passed ? 'ğŸ‰' : 'ğŸ’ª'}</div>
        <h3 style="font-size: 32px; font-weight: bold; color: ${passed ? '#065f46' : '#78350f'}; margin-bottom: 16px;">${passed ? 'SELAMAT! ANDA LULUS!' : 'TERUS SEMANGAT!'}</h3>
        <p style="font-size: 24px; font-weight: bold; color: ${passed ? '#065f46' : '#78350f'};">Nilai Akhir: ${score}</p>
        <p style="font-size: 18px; color: ${passed ? '#065f46' : '#78350f'}; margin-top: 8px;">Benar: ${correct}/${totalQuestions}</p>
        <div style="margin-top: 24px; padding: 20px; background: rgba(255,255,255,0.6); border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
          <p style="font-size: 16px; color: ${passed ? '#065f46' : '#78350f'}; line-height: 1.8;">
            ${statusMessage}
          </p>
        </div>
        ${actionButton}
      </div>
      ${finalExplanationsHTML ? '<div style="margin-top: 32px; text-align: left;"><h3 style="font-size: 22px; font-weight: bold; color: #1e293b; margin-bottom: 16px;">ğŸ“š Pembahasan Jawaban yang Salah:</h3>' + finalExplanationsHTML + '</div>' : ''}`;
      
      document.getElementById('final-submit-btn').style.display = 'none';
      
      // Simpan nilai untuk sertifikat
      if (passed) {
        localStorage.setItem('certificateData', JSON.stringify({
          name: currentStudent,
          score: score,
          date: new Date().toLocaleDateString('id-ID', { day: 'numeric', month: 'long', year: 'numeric' })
        }));
      }
      
      window.scrollTo({ top: resultDiv.offsetTop - 100, behavior: 'smooth' });
    }
    

    // Download Certificate Function
    function downloadCertificate() {
      const certData = JSON.parse(localStorage.getItem('certificateData') || '{}');
      
      if (!certData.name) {
        showNotif('âŒ Data sertifikat tidak ditemukan!');
        return;
      }

      // Create certificate canvas
      const canvas = document.createElement('canvas');
      canvas.width = 1200;
      canvas.height = 850;
      const ctx = canvas.getContext('2d');

      // Background gradient
      const gradient = ctx.createLinearGradient(0, 0, canvas.width, canvas.height);
      gradient.addColorStop(0, '#1e3a8a');
      gradient.addColorStop(0.5, '#3b82f6');
      gradient.addColorStop(1, '#1e3a8a');
      ctx.fillStyle = gradient;
      ctx.fillRect(0, 0, canvas.width, canvas.height);

      // Border
      ctx.strokeStyle = '#fbbf24';
      ctx.lineWidth = 20;
      ctx.strokeRect(30, 30, canvas.width - 60, canvas.height - 60);

      ctx.strokeStyle = '#fbbf24';
      ctx.lineWidth = 5;
      ctx.strokeRect(50, 50, canvas.width - 100, canvas.height - 100);

      // Title
      ctx.fillStyle = '#ffffff';
      ctx.font = 'bold 60px Arial';
      ctx.textAlign = 'center';
      ctx.fillText('ğŸ“ SERTIFIKAT PENGHARGAAN', canvas.width / 2, 150);

      // Subtitle
      ctx.font = '28px Arial';
      ctx.fillText('Diberikan kepada', canvas.width / 2, 230);

      // Student Name
      ctx.font = 'bold 56px Arial';
      ctx.fillStyle = '#fbbf24';
      ctx.fillText(certData.name, canvas.width / 2, 320);

      // Achievement text
      ctx.fillStyle = '#ffffff';
      ctx.font = '24px Arial';
      ctx.fillText('Telah berhasil menyelesaikan', canvas.width / 2, 400);
      
      ctx.font = 'bold 32px Arial';
      ctx.fillText('Pertemuan 8: Jaringan Komputer & Internet', canvas.width / 2, 450);

      ctx.font = '24px Arial';
      ctx.fillText('Mata Pelajaran Informatika Kelas X', canvas.width / 2, 500);
      ctx.fillText('MAN 2 Garut', canvas.width / 2, 540);

      // Score box
      ctx.fillStyle = 'rgba(251, 191, 36, 0.2)';
      ctx.fillRect(canvas.width / 2 - 150, 580, 300, 80);
      ctx.strokeStyle = '#fbbf24';
      ctx.lineWidth = 3;
      ctx.strokeRect(canvas.width / 2 - 150, 580, 300, 80);

      ctx.fillStyle = '#fbbf24';
      ctx.font = 'bold 42px Arial';
      ctx.fillText(`Nilai: ${certData.score}`, canvas.width / 2, 635);

      // Date
      ctx.fillStyle = '#ffffff';
      ctx.font = '20px Arial';
      ctx.fillText(`Diterbitkan pada: ${certData.date}`, canvas.width / 2, 720);

      // Footer
      ctx.font = 'italic 18px Arial';
      ctx.fillStyle = '#cbd5e1';
      ctx.fillText('Platform Pembelajaran Informatika Digital', canvas.width / 2, 780);

      // Convert to image and download
      canvas.toBlob(function(blob) {
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = `Sertifikat_${certData.name.replace(/\s+/g, '_')}_Pertemuan8.png`;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
        
        showNotif('ğŸ‰ Sertifikat berhasil diunduh!');
      });
    }

    // Admin Functions
    function showAdminTab(tabName) {
      document.querySelectorAll('.admin-tab').forEach(tab => {
        tab.style.background = '#e2e8f0';
        tab.style.color = '#475569';
      });
      document.getElementById(`tab-${tabName}`).style.background = '#7c3aed';
      document.getElementById(`tab-${tabName}`).style.color = 'white';

      document.querySelectorAll('.admin-content').forEach(content => {
        content.style.display = 'none';
      });
      document.getElementById(`content-${tabName}`).style.display = 'block';
    }

    function updateAdminDashboard() {
      // Update stats
      const uniqueStudents = [...new Set(allData.map(d => d.student_name))];
      document.getElementById('total-students').textContent = uniqueStudents.length;

      const completedStudents = allData.filter(d => d.final_quiz === true).length;
      document.getElementById('completed-students').textContent = completedStudents;

      const scores = allData.filter(d => d.final_score > 0).map(d => d.final_score);
      const avgScore = scores.length > 0 ? Math.round(scores.reduce((a, b) => a + b, 0) / scores.length) : 0;
      document.getElementById('avg-score').textContent = avgScore;

      const today = new Date().toISOString().split('T')[0];
      const todayActivities = allData.filter(d => d.timestamp && d.timestamp.startsWith(today)).length;
      document.getElementById('active-now').textContent = todayActivities;

      // Update Login History
      updateLoginHistory();
      
      // Update Student Progress
      updateStudentProgress();
      
      // Update Scores
      updateScores();
      
      // Update Activities
      updateActivities();
    }

    function updateLoginHistory() {
      const container = document.getElementById('login-history-list');
      const loginData = allData.filter(d => d.activity_type === 'Login').sort((a, b) => new Date(b.login_time) - new Date(a.login_time));
      
      if (loginData.length === 0) {
        container.innerHTML = '<p style="text-align: center; color: #64748b; padding: 40px;">Belum ada siswa yang login</p>';
        return;
      }

      let html = `<table style="width: 100%; border-collapse: collapse;">
        <thead>
          <tr style="background: #f8fafc;">
            <th style="padding: 12px; text-align: left; border-bottom: 2px solid #e2e8f0;">No</th>
            <th style="padding: 12px; text-align: left; border-bottom: 2px solid #e2e8f0;">Nama Siswa</th>
            <th style="padding: 12px; text-align: left; border-bottom: 2px solid #e2e8f0;">Kelas</th>
            <th style="padding: 12px; text-align: left; border-bottom: 2px solid #e2e8f0;">Waktu Login</th>
          </tr>
        </thead>
        <tbody>`;
      
      loginData.forEach((item, idx) => {
        const loginTime = new Date(item.login_time);
        const timeStr = loginTime.toLocaleString('id-ID');
        html += `<tr style="border-bottom: 1px solid #e2e8f0;">
          <td style="padding: 12px;">${idx + 1}</td>
          <td style="padding: 12px; font-weight: 600;">${item.student_name}</td>
          <td style="padding: 12px;">${item.student_class}</td>
          <td style="padding: 12px;">${timeStr}</td>
        </tr>`;
      });
      
      html += '</tbody></table>';
      container.innerHTML = html;
    }

    function updateStudentProgress() {
      const container = document.getElementById('student-progress-list');
      const uniqueStudents = [...new Set(allData.map(d => d.student_name))];
      
      if (uniqueStudents.length === 0) {
        container.innerHTML = '<p style="text-align: center; color: #64748b; padding: 40px;">Belum ada data progress siswa</p>';
        return;
      }

      let html = '';
      uniqueStudents.forEach(studentName => {
        const studentData = allData.filter(d => d.student_name === studentName).sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp))[0];
        
        if (!studentData) return;

        html += `<div style="background: #f8fafc; padding: 24px; border-radius: 12px; margin-bottom: 20px; border-left: 4px solid #3b82f6;">
          <h3 style="font-size: 18px; font-weight: bold; color: #1e293b; margin-bottom: 16px;">ğŸ‘¤ ${studentName} - Kelas ${studentData.student_class}</h3>
          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 12px;">
            <div style="background: white; padding: 12px; border-radius: 8px;">
              <div style="font-size: 14px; color: #64748b; margin-bottom: 4px;">Materi 1</div>
              <div style="font-size: 16px; font-weight: bold; color: ${studentData.materi_1_read ? '#10b981' : '#64748b'};">
                ${studentData.materi_1_read ? 'âœ… Selesai' : 'â³ Belum'}
              </div>
            </div>
            <div style="background: white; padding: 12px; border-radius: 8px;">
              <div style="font-size: 14px; color: #64748b; margin-bottom: 4px;">Video 1</div>
              <div style="font-size: 16px; font-weight: bold; color: ${studentData.materi_1_video ? '#10b981' : '#64748b'};">
                ${studentData.materi_1_video ? 'âœ… Ditonton' : 'â³ Belum'}
              </div>
            </div>
            <div style="background: white; padding: 12px; border-radius: 8px;">
              <div style="font-size: 14px; color: #64748b; margin-bottom: 4px;">Quiz 1</div>
              <div style="font-size: 16px; font-weight: bold; color: ${studentData.materi_1_quiz ? '#10b981' : '#64748b'};">
                ${studentData.materi_1_quiz ? 'âœ… Dikerjakan' : 'â³ Belum'}
              </div>
            </div>
          </div>
        </div>`;
      });

      container.innerHTML = html;
    }

    function updateScores() {
      const container = document.getElementById('scores-list');
      const scoresData = allData.filter(d => d.materi_1_score > 0 || d.materi_2_score > 0 || d.materi_3_score > 0);
      
      if (scoresData.length === 0) {
        container.innerHTML = '<p style="text-align: center; color: #64748b; padding: 40px;">Belum ada siswa yang mengerjakan quiz</p>';
        return;
      }

      const uniqueStudents = [...new Set(scoresData.map(d => d.student_name))];
      
      let html = `<table style="width: 100%; border-collapse: collapse;">
        <thead>
          <tr style="background: #f8fafc;">
            <th style="padding: 12px; text-align: left; border-bottom: 2px solid #e2e8f0;">No</th>
            <th style="padding: 12px; text-align: left; border-bottom: 2px solid #e2e8f0;">Nama Siswa</th>
            <th style="padding: 12px; text-align: center; border-bottom: 2px solid #e2e8f0;">Quiz 1</th>
            <th style="padding: 12px; text-align: center; border-bottom: 2px solid #e2e8f0;">Quiz 2</th>
            <th style="padding: 12px; text-align: center; border-bottom: 2px solid #e2e8f0;">Quiz 3</th>
            <th style="padding: 12px; text-align: center; border-bottom: 2px solid #e2e8f0;">Final</th>
          </tr>
        </thead>
        <tbody>`;
      
      uniqueStudents.forEach((studentName, idx) => {
        const studentData = scoresData.filter(d => d.student_name === studentName).sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp))[0];
        
        html += `<tr style="border-bottom: 1px solid #e2e8f0;">
          <td style="padding: 12px;">${idx + 1}</td>
          <td style="padding: 12px; font-weight: 600;">${studentName}</td>
          <td style="padding: 12px; text-align: center; font-weight: bold; color: ${studentData.materi_1_score >= 70 ? '#10b981' : '#ef4444'};">
            ${studentData.materi_1_score || '-'}
          </td>
          <td style="padding: 12px; text-align: center; font-weight: bold; color: ${studentData.materi_2_score >= 70 ? '#10b981' : '#ef4444'};">
            ${studentData.materi_2_score || '-'}
          </td>
          <td style="padding: 12px; text-align: center; font-weight: bold; color: ${studentData.materi_3_score >= 70 ? '#10b981' : '#ef4444'};">
            ${studentData.materi_3_score || '-'}
          </td>
          <td style="padding: 12px; text-align: center; font-weight: bold; color: ${studentData.final_score >= 75 ? '#10b981' : '#ef4444'};">
            ${studentData.final_score || '-'}
          </td>
        </tr>`;
      });
      
      html += '</tbody></table>';
      container.innerHTML = html;
    }

    function updateActivities() {
      const container = document.getElementById('activities-list');
      const activities = allData.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp)).slice(0, 50);
      
      if (activities.length === 0) {
        container.innerHTML = '<p style="text-align: center; color: #64748b; padding: 40px;">Belum ada aktivitas</p>';
        return;
      }

      let html = '';
      activities.forEach(activity => {
        const time = new Date(activity.timestamp);
        const timeStr = time.toLocaleTimeString('id-ID', { hour: '2-digit', minute: '2-digit' });
        const dateStr = time.toLocaleDateString('id-ID');
        
        let icon = 'ğŸ“';
        let color = '#3b82f6';
        if (activity.activity_type === 'Login') { icon = 'ğŸ”‘'; color = '#10b981'; }
        else if (activity.activity_type === 'Materi') { icon = 'ğŸ“š'; color = '#3b82f6'; }
        else if (activity.activity_type === 'Video') { icon = 'ğŸ¥'; color = '#8b5cf6'; }
        else if (activity.activity_type === 'Quiz') { icon = 'ğŸ“'; color = '#f59e0b'; }

        html += `<div style="background: #f8fafc; padding: 16px; border-radius: 12px; margin-bottom: 12px; border-left: 4px solid ${color}; display: flex; justify-content: space-between; align-items: center;">
          <div style="display: flex; align-items: center; gap: 16px;">
            <div style="font-size: 32px;">${icon}</div>
            <div>
              <div style="font-size: 16px; font-weight: bold; color: #1e293b;">${activity.student_name}</div>
              <div style="font-size: 14px; color: #64748b;">${activity.activity_detail}</div>
            </div>
          </div>
          <div style="text-align: right;">
            <div style="font-size: 13px; color: #64748b;">${dateStr}</div>
            <div style="font-size: 14px; font-weight: 600; color: #1e293b;">${timeStr}</div>
          </div>
        </div>`;
      });

      container.innerHTML = html;
    }

    // Login Siswa
document.getElementById('student-login-form').addEventListener('submit', async function(e) {
  e.preventDefault();


  const name = document.getElementById('student-name').value.trim();
  const studentClass = document.getElementById('student-class').value;

  // ğŸ”¹ TAMBAHAN PASSWORD (1)
  const password = document.getElementById('student-password').value.trim();
  const STUDENT_PASSWORD = 'siswa123';
  // ğŸ”¹ AKHIR TAMBAHAN

  // ğŸ”¹ TAMBAHAN PASSWORD (2)
  if (!name || !studentClass || !password) {
    showNotif('âš ï¸ Lengkapi data terlebih dahulu!');
    return;
  }
  // ğŸ”¹ AKHIR TAMBAHAN

  // ğŸ”¹ TAMBAHAN PASSWORD (3)
  if (password !== STUDENT_PASSWORD) {
    showNotif('âŒ Password salah!');
    return;
  }
  // ğŸ”¹ AKHIR TAMBAHAN

  const isAllowed = allowedStudents.some(
    student => student.toLowerCase() === name.toLowerCase()
  );

  if (!isAllowed) {
    showNotif('âŒ Nama tidak terdaftar! Hubungi guru Anda.');
    return;
  }

  if (studentClass !== 'X') {
    showNotif('âš ï¸ Maaf, saat ini hanya Kelas X yang tersedia.');
    return;
  }

  currentStudent = name;
  currentStudentClass = studentClass;
  isAdmin = false;

  await logActivity('Login', 'Login ke sistem');

  showPage('home-page');
  document.getElementById('logged-user').textContent = name;
  showNotif(`ğŸ¤— Selamat datang, ${name}!`);
});


    // Logout Student
    function logoutStudent() {
      // Create custom confirmation dialog
      const confirmDialog = document.createElement('div');
      confirmDialog.style.cssText = 'position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.5); display: flex; align-items: center; justify-content: center; z-index: 10000;';
      
      confirmDialog.innerHTML = `
        <div style="background: white; border-radius: 16px; padding: 32px; max-width: 400px; text-align: center; box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);">
          <div style="font-size: 64px; margin-bottom: 16px;">ğŸšª</div>
          <h3 style="font-size: 24px; font-weight: bold; color: #1e293b; margin-bottom: 12px;">Konfirmasi Logout</h3>
          <p style="font-size: 16px; color: #64748b; margin-bottom: 24px;">Apakah Anda yakin ingin keluar dari sistem?</p>
          <div style="display: flex; gap: 12px; justify-content: center;">
            <button id="cancel-logout" style="background: #e2e8f0; color: #475569; border: none; padding: 12px 32px; border-radius: 8px; font-size: 16px; font-weight: 600; cursor: pointer;">
              Batal
            </button>
            <button id="confirm-logout" style="background: #ef4444; color: white; border: none; padding: 12px 32px; border-radius: 8px; font-size: 16px; font-weight: 600; cursor: pointer;">
              Ya, Logout
            </button>
          </div>
        </div>

      `;
      
      document.body.appendChild(confirmDialog);
      
      document.getElementById('cancel-logout').addEventListener('click', () => {
        confirmDialog.remove();
      });
      
      document.getElementById('confirm-logout').addEventListener('click', () => {
        confirmDialog.remove();
        
        currentStudent = null;
        currentStudentClass = null;
        isAdmin = false;
        
        // Reset progress
        progress = {
          1: { materi: false, video: false, quiz: false, score: 0 },
          2: { materi: false, video: false, quiz: false, score: 0 },
          3: { materi: false, video: false, quiz: false, score: 0 }
        };
        
        // Reset user answers
        userAnswers = {};
        
        // Reset form
        document.getElementById('student-name').value = '';
        document.getElementById('student-class').value = '';
        
        // Reset all quiz displays
        document.getElementById('video-1').style.display = 'none';
        document.getElementById('quiz-1').style.display = 'none';
        document.getElementById('video-2').style.display = 'none';
        document.getElementById('quiz-2').style.display = 'none';
        document.getElementById('video-3').style.display = 'none';
        document.getElementById('quiz-3').style.display = 'none';
        document.getElementById('section-2').style.display = 'none';
        document.getElementById('section-3').style.display = 'none';
        document.getElementById('final-eval-button').style.display = 'none';
        
        showPage('login-select-page');
        showNotif('ğŸ‘‹ Anda telah logout. Sampai jumpa!');
      });
    }

    function resetStudentLoginForm() {
  const form = document.getElementById('student-login-form');
  if (!form) return;

  form.reset(); // reset semua input

  // pastikan password kembali tersembunyi
  const pwd = document.getElementById('student-password');
  if (pwd) pwd.type = 'password';

  // matikan checkbox tampilkan password
  const showPwd = document.getElementById('show-password');
  if (showPwd) showPwd.checked = false;

  const btn = document.getElementById('login-btn');
if (btn) btn.textContent = 'Masuk ke Platform ğŸš€';

}


    // Login Admin
    document.getElementById('admin-login-form').addEventListener('submit', function(e) {
      e.preventDefault();
      const username = document.getElementById('admin-username').value.trim();
      const password = document.getElementById('admin-password').value;
      
      if (!username || !password) {
        showNotif('âš ï¸ Lengkapi username dan password!');
        return;
      }

      if (password !== 'admin123') {
        showNotif('âŒ Password salah!');
        return;
      }

      isAdmin = true;
      showPage('admin-dashboard-page');
      document.getElementById('admin-logged-user').textContent = `Admin: ${username}`;
      updateAdminDashboard();
      showNotif(`ğŸ‘¨â€ğŸ’¼ Selamat datang, Admin ${username}!`);
    });

    // Initialize
    window.addEventListener('DOMContentLoaded', () => {
      initDataSDK();
      
      // Add logout button event listener
      const logoutBtn = document.getElementById('logout-student-btn');
      if (logoutBtn) {
        logoutBtn.addEventListener('click', logoutStudent);
      }
    });
     

    // Element SDK
    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig: {},
        onConfigChange: (config) => {},
        mapToCapabilities: (config) => ({ recolorables: [], borderables: [], fontEditable: undefined, fontSizeable: undefined }),
        mapToEditPanelValues: (config) => new Map()
      });
    }
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9b050143e5e83bdd',t:'MTc2NjEyNzQzNy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>

</html>



